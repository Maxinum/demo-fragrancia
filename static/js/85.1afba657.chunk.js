"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[85],{4111:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var s=n(2791),i=n(4173),r=n(3514),l=n(4165),a=n(5861),c=n(9439),o=n(32),d=n(837),u=n(4424),f=n(6206),h=n(4422),x=n(3289),m=n(184),p=(0,o.Pi)((function(e){var t=(0,s.useContext)(d._),n=t.orders,i=t.client,r=(0,s.useRef)(),o="string"===typeof i.selectedClient?i.selectedClient.split(" ")[0]:"",p=(0,s.useState)([]),y=(0,c.Z)(p,2),j=y[0],v=y[1];function g(){return(g=(0,a.Z)((0,l.Z)().mark((function e(t){var n,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=5;break}return n=r.current.options[r.current.selectedIndex],s=n.id,e.next=5,(0,f.J)(s).then((function(e){return v(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){0===i.lastDaysSales.length&&(0,x.wG)().then((function(e){return i.setlastDaysSales(e.sales)}))}),[]),(0,s.useEffect)((function(){(0,x.pr)(o).then((function(e){return i.setSales(e.sales)}))}),[i.selectedClient]),(0,s.useEffect)((function(){0!==j.length&&(console.log(j),(0,h.v2)(n,i,j.sale),(0,h.ut)(n,j.perfumes),(0,h.eu)(n,j.disposables),(0,h.HI)(n,j.payments),n.setKeyDown(!1))}),[j]),(0,m.jsxs)("div",{className:"history",children:[(0,m.jsx)("div",{className:"history_label",children:"Sales"}),(0,m.jsxs)("select",{ref:r,name:"",id:"history",size:"10",onKeyDown:function(e){return g.apply(this,arguments)},children:[i.selectedClient&&i.sales.length>0&&i.sales.map((function(e,t){return(0,m.jsxs)("option",{id:e.id,children:[e.order_date&&e.order_date.substring(0,e.order_date.indexOf("T"))," - ",(0,u.f)(e.total)]},t)})),!i.selectedClient&&i.lastDaysSales.map((function(e,t){return(0,m.jsxs)("option",{id:e.id,children:[e.order_date&&e.order_date.substring(0,e.order_date.indexOf("T"))," - ",e.clientId," - ",(0,u.f)(e.total)]},t)}))]})]})})),y=p,j=(0,o.Pi)((function(e){var t=(0,s.useContext)(d._).client,n=t.selectedClient&&""!==t.selectedClient.trim()?t.selectedClient.split(" ")[0]:-1;(0,s.useEffect)((function(){(0,x.pr)(n).then((function(e){return t.setClientInfo(e.abc)}))}),[t.selectedClient]);var i=function(e){var t=new Date(0);return t.setUTCMonth(e),t.toLocaleString("default",{month:"long"})},r=[{name:i((new Date).getMonth()-0),total:t.clientInfo.length>0&&(0,u.f)(t.clientInfo[0].total)+"\u0442\u0433."},{name:i((new Date).getMonth()-1),total:t.clientInfo.length>0&&(0,u.f)(t.clientInfo[0].total1)+"\u0442\u0433."},{name:i((new Date).getMonth()-2),total:t.clientInfo.length>0&&(0,u.f)(t.clientInfo[0].total2)+"\u0442\u0433."},{name:i((new Date).getMonth()-3),total:t.clientInfo.length>0&&(0,u.f)(t.clientInfo[0].total3)+"\u0442\u0433."}];return(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"history_label",children:"Customer Information"}),(0,m.jsxs)("div",{className:"card__content",children:[(0,m.jsxs)("div",{style:{width:"100%"},children:[(0,m.jsx)("div",{children:"ABC-XYZ:"}),(0,m.jsx)("div",{id:"abc-xyz",children:t.clientInfo.length>0&&t.clientInfo[0].abc_xyz})]}),r.map((function(e){return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"month",children:e.name+":"}),(0,m.jsx)("div",{className:"totalclient",children:e.total})]},e.name)})),(0,m.jsx)("textarea",{placeholder:"Comment...",id:"card_comment",cols:"15",rows:"5"})]})]})})),v=n(6935),g=(0,o.Pi)((function(e){var t=(0,s.useContext)(d._),n=t.orders,i=t.client,r=(0,s.useRef)(),o="string"===typeof i.selectedClient?i.selectedClient.split(" ")[0]:"",f=(0,s.useState)([]),p=(0,c.Z)(f,2),y=p[0],j=p[1];function g(){return(g=(0,a.Z)((0,l.Z)().mark((function e(t){var n,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=5;break}return n=r.current.options[r.current.selectedIndex],s=n.id,e.next=5,(0,v._P)(s).then((function(e){return j(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){0===i.lastDaysPayments.length&&(0,x.wG)().then((function(e){return i.setlastDaysPayments(e.payments)}))}),[]),(0,s.useEffect)((function(){(0,x.pr)(o).then((function(e){return i.setPayments(e.payments)}))}),[i.selectedClient]),(0,s.useEffect)((function(){0!==y.length&&(console.log(y),(0,h.v2)(n,i,y.sale),(0,h.ut)(n,y.perfumes),(0,h.eu)(n,y.disposables),(0,h.HI)(n,y.payments),n.setKeyDown(!1))}),[y]),(0,m.jsxs)("div",{className:"history",children:[(0,m.jsx)("div",{className:"payment_label",children:"Payments"}),(0,m.jsxs)("select",{ref:r,name:"",id:"payment",size:"10",onKeyDown:function(e){return g.apply(this,arguments)},children:[i.selectedClient&&i.payments.length>0&&i.payments.map((function(e,t){return(0,m.jsxs)("option",{id:e.id,children:[e.createdAt&&e.createdAt.substring(0,e.createdAt.indexOf("T"))," - ",(0,u.f)(e.sum)]},t)})),!i.selectedClient&&i.lastDaysPayments.map((function(e,t){return(0,m.jsxs)("option",{id:e.id,children:[e.createdAt&&e.createdAt.substring(0,e.createdAt.indexOf("T"))," - ",e.client," - ",(0,u.f)(e.sum)]},t)}))]})]})})),C=g,w=function(){return(0,m.jsxs)("div",{className:"left",children:[(0,m.jsx)(j,{}),(0,m.jsx)(y,{}),(0,m.jsx)(C,{})]})},I=n(7807),_=n(4057),b=n(396),D=n(8717),Z=n(1085),k=(0,o.Pi)((function(){var e=(0,s.useContext)(d._);return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",alignItems:"flex-start"},children:[(0,m.jsx)(w,{}),(0,m.jsxs)("div",{children:[(0,m.jsx)(Z.Z,{}),(0,m.jsx)(r.Z,{data:e,name:"Fragrances"}),(0,m.jsx)(I.Z,{name:"Accessories"}),(0,m.jsx)(_.Z,{}),(0,m.jsx)(b.Z,{}),(0,m.jsx)(D.Z,{})]}),(0,m.jsx)(i.Z,{})]})})}))}}]);
//# sourceMappingURL=85.1afba657.chunk.js.map