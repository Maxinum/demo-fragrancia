(self.webpackChunkclient=self.webpackChunkclient||[]).push([[225],{4650:function(e,t,n){"use strict";n.d(t,{Af:function(){return o},gT:function(){return a}});var r=n(4165),i=n(5861),s=n(568),a=(n(456),function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client/cities");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.y_.get("lead/all");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},6935:function(e,t,n){"use strict";n.d(t,{LV:function(){return a},_P:function(){return l},i6:function(){return c},wH:function(){return o}});var r=n(4165),i=n(5861),s=n(568),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.post("order",t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.delete("order/delete",{data:{id:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.DN.post("order/check",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("/order/getPayment",{params:{id:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4442:function(e,t,n){"use strict";n(2791);var r=n(4070),i=n(4440),s=n(184);t.Z=function(e){var t=e.message,n=e.severity,a=e.open,o=e.handleClose;return(0,s.jsx)(i.Z,{open:a,autoHideDuration:1500,onClose:o,children:(0,s.jsx)(r.Z,{variant:"filled",severity:n,sx:{width:"100%"},children:t})})}},8717:function(e,t,n){"use strict";var r=n(4165),i=n(5861),s=n(9439),a=n(2791),o=n(6151),c=n(32),l=n(6935),u=n(837),d=n(9206),p=n(4442),f=n(5982),x=n(4424),h=n(8946),v=n(3329),m=n(184),y=(0,c.Pi)((function(e){var t,n=(0,a.useContext)(u._),c=n.client,y=n.orders,g=(0,a.useState)(!1),j=(0,s.Z)(g,2),b=j[0],Z=j[1],w=(0,a.useState)(!1),_=(0,s.Z)(w,2),C=_[0],S=_[1],T=(0,a.useState)(!1),k=(0,s.Z)(T,2),D=k[0],N=k[1],I=(0,a.useState)(!1),P=(0,s.Z)(I,2),F=P[0],Y=P[1],B=y.paymentRows.filter((function(e){return""!==e.score})),M=y.selectedPerf.filter((function(e){return""!==e.name})),R=y.selectedCons.filter((function(e){return""!==e.name})),E=Object.values(y.selectedFile).filter((function(e){return void 0!==e})),L=function(){Z(!1),S(!1)};"string"===typeof c.selectedClient&&""!==c.selectedClient&&(t=c.selectedClient.split(" ")[0]);var O=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s,a,o,u,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==(0,d.K)(c.selectedClient,y.selectedPerf,y.selectedCons,y.paymentRows)){e.next=31;break}return S(!0),i=0!==y.bufId.length?y.bufId.sale[0].id:null,s="Arrange"===n.target.innerText?1:2,a="hunter"===window.location.href.split("/")[3]?1:2,o={sales:{id:i,clientId:t,order_date:c.date,client_type:a,sales_type:c.selectedCategory.id,total:y.grandTotal,spent_bonus:!0===y.bonusCheck?y.spentBonus:0,add_bonus:"Bonus"===y.saleType?Number(y.percent).toFixed(0):0,discount:"Discount"===y.saleType?Number(y.percent):0,comment:y.comment,expeditorId:c.selectedDelivery,closed:s},payments:B.map((function(e){return{sum:e.sum,createdAt:e.date,link:e.photoCheck,paymentTypeId:e.score}})),perf:M.map((function(e){return{product_id:e.id,type:e.invTypeId,qty:(0,x.F)(e.volume),price:e.price,total:e.total}})),disp:R.map((function(e){return{product_id:e.id,qty:(0,x.F)(e.volume),price:e.price,total:e.total}}))},e.prev=6,e.next=9,(0,l.LV)(o);case 9:if(0!==E.length){e.next=13;break}console.log("No files to upload"),e.next=23;break;case 13:for(u=new FormData,p=0;p<E.length;p++)u.append("image",E[p]);return e.prev=15,e.next=18,(0,l.i6)(u);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),console.log(e.t0);case 23:(0,f.f)(c,y),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(6),console.error(e.t1);case 29:e.next=32;break;case 31:Z(!0);case 32:case"end":return e.stop()}}),e,null,[[6,26],[15,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",alignContent:"center",marginBottom:"50px",marginTop:"50px"},children:[(0,m.jsx)(o.Z,{style:{background:D?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"#065f46",color:"#fff",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",borderRadius:"50px",padding:"12px 32px",textTransform:"none",transition:"background .2s",width:"180px"},variant:"contained",endIcon:(0,m.jsx)(h.Z,{style:{color:"#fff"}}),onClick:O,onMouseEnter:function(){N(!0)},onMouseLeave:function(){N(!1)},children:"Arrange"}),(0,m.jsx)(o.Z,{style:{background:F?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"#065f46",color:"#fff",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",borderRadius:"50px",padding:"12px 32px",textTransform:"none",transition:"background .2s",width:"180px"},variant:"contained",endIcon:(0,m.jsx)(v.Z,{style:{color:"#fff"}}),onClick:O,onMouseEnter:function(){Y(!0)},onMouseLeave:function(){Y(!1)},children:"To the buffer"}),(0,m.jsx)(p.Z,{message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f",severity:"warning",open:b,handleClose:L}),(0,m.jsx)(p.Z,{message:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b",severity:"success",open:C,handleClose:L})]})}));t.Z=y},4057:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(9439),i=n(2791),s=n(32),a=n(837),o=n(4424),c=n(184),l=(0,s.Pi)((function(e){var t=(0,i.useContext)(a._),n=t.orders,s=t.client,l=(0,i.useState)(""),u=(0,r.Z)(l,2),d=u[0],p=u[1],f=0;(0,i.useEffect)((function(){n.initialDebt>0?p("#FF0000"):0===n.initialDebt?p("black"):p("#130dd1")}),[s.selectedClient]);for(var x=0;x<n.paymentRows.length;x++)f+=Number(n.paymentRows[x].sum);return(0,c.jsxs)("div",{className:"paycard",children:[(0,c.jsxs)("div",{className:"paycard-note",children:[(0,c.jsx)("label",{className:"label-note",htmlFor:"note",children:"Note:"}),(0,c.jsx)("input",{type:"text",name:"note",className:"note",onChange:function(e){n.setComment(e.target.value)},id:"commentInput",autoComplete:"off"})]}),(0,c.jsxs)("div",{className:"div-pay",children:[(0,c.jsxs)("div",{className:"debtinfo",children:[(0,c.jsxs)("div",{className:"torow","data-html2canvas-ignore":"true",children:[(0,c.jsx)("div",{children:"Initial debt:"}),(0,c.jsxs)("div",{id:"debt",style:{color:d},className:"totals total_tg",children:[" ",(0,o.f)(n.initialDebt)]})]}),(0,c.jsxs)("div",{className:"torow","data-html2canvas-ignore":"true",children:[(0,c.jsx)("div",{children:"Current debt:"}),(0,c.jsx)("div",{id:"currentDebt",className:"totals total_tg",children:(0,o.f)(n.currDebt-f)})]}),(0,c.jsxs)("div",{className:"torow","data-html2canvas-ignore":"true",children:[(0,c.jsx)("div",{children:" Total debt: "}),(0,c.jsx)("div",{id:"deptCalc",className:"totals total_tg",children:(0,o.f)(n.calcDebt-f)})]})]}),(0,c.jsxs)("div",{className:"totalinfo",children:[(0,c.jsxs)("div",{className:"torow",children:[(0,c.jsx)("div",{children:"Before the discount:"}),(0,c.jsx)("div",{className:"totals total_tg",children:(0,o.f)(n.withoutDiscount)})]}),(0,c.jsxs)("div",{className:"torow",children:[(0,c.jsx)("div",{children:"Discount:"}),(0,c.jsx)("div",{className:"totals total_tg",children:(0,o.f)(n.discount)})]}),(0,c.jsxs)("div",{className:"torow grandtotal",children:[(0,c.jsx)("div",{children:"To be paid: "}),(0,c.jsx)("div",{className:"totals total_tg",children:(0,o.f)(n.grandTotal)})]})]})]})]})}))},4424:function(e,t,n){"use strict";function r(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,".")}function i(e){var t=String(e).replace(/[^0-9-]/g,"");return Number(t)}n.d(t,{F:function(){return i},f:function(){return r}})},550:function(e,t,n){"use strict";n.d(t,{Jr:function(){return r},Yw:function(){return s},el:function(){return i}});n(4442);function r(e){return String(e).replace(/\D/g,"")}function i(e){var t=e.replace(/^0+/g,"").replace(/\D/g,"");return null!=e.match(/-/g)?"-"+t:t}function s(e){return parseFloat(parseFloat(e).toFixed(2))}},4167:function(e,t,n){"use strict";function r(e,t){e.setSelectedClient("");var n=e.categories.find((function(e){return 3===(null===e||void 0===e?void 0:e.id)}));e.setSelectedCategory(n),e.setSelectedDelivery(""),t.setSelectedPerf([{id:"",invTypeId:"",count:"",name:"",volume:"",price:"",total:0}]),t.setSelectedCons([{id:"",count:"",name:"",volume:"",price:"",total:0}]),t.setPaymentRows([{score:"",sum:"",date:"",photoCheck:""}]),t.setSubTotal(0),t.setSecSubTotal(0),t.setSecSubTotal(0),t.setPercent(0),t.clearAllSelectedFiles(),t.setSaleType("Discount"),t.setSpentBonus(0)}n.d(t,{U:function(){return r}})},5982:function(e,t,n){"use strict";n.d(t,{f:function(){return c}});var r=n(4165),i=n(5861),s=n(6206),a=n(3289),o=n(4167);function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,o.U)(t,n),e.next=3,(0,s._)();case 3:return i=e.sent,e.next=6,(0,a.wG)();case 6:return c=e.sent,e.next=9,(0,a.wG)();case 9:l=e.sent,n.setBufOrders(i),t.setlastDaysSales(c.sales),t.setlastDaysPayments(l.payments);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7807:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(2791),i=n(7635),s=n(837),a=n(32),o=n(4165),c=n(5861),l=n(568),u=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.DN.get("product/cons");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=n(184),p=(0,a.Pi)((function(e){return(0,r.useEffect)((function(){"Bonus"===e.store.saleType?e.store.setBonusHide(!(e.store.SubTotal>e.store.spentBonus)):e.store.setBonusHide(!0)}),[e.store.saleType,e.store.SubTotal]),(0,d.jsxs)("tfoot",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:"3",rowSpan:"4",className:i.Z.plus,children:(0,d.jsx)("div",{className:"button_label",children:"Accessories"})}),(0,d.jsx)("td",{children:"Summary"}),(0,d.jsx)("td",{colSpan:"3",children:e.subtotal})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"checkbox",value:e.store.bonusCheck,onChange:function(t){t.target.checked,e.store.setBonusCheck(t.target.checked)},hidden:e.store.bonusHide,id:"checkBonus"})}),(0,d.jsx)("td",{colSpan:"3",id:"bonus",children:e.store.spentBonus})]})]})})),f=(0,a.Pi)((function(e){return(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{style:{width:"4%"}}),(0,d.jsx)("th",{style:{width:"8%"}}),(0,d.jsx)("th",{style:{width:"60%"}}),(0,d.jsx)("th",{style:{width:"8%"}}),(0,d.jsx)("th",{style:{width:"8%"}}),(0,d.jsx)("th",{style:{width:"10%"}})]})})})),x=n(1413),h=n(3433),v=n(9439),m=n(4098),y=n(1010),g=n(4424),j=n(3938),b=(n(2506),n(550)),Z=(0,a.Pi)((function(e){var t=(0,m.ZN)(e.store.selectedCons),n=(0,r.useContext)(s._),a=n.client,o=n.products,c=(0,r.useState)([]),l=(0,v.Z)(c,2),u=(l[0],l[1]),p=function(n,r){var i=n.target,s=i.name,a=i.value;"volume"===s&&(0,g.f)(a);t[r][s]=a,e.store.setSecSubTotal((0,j.t)(r,t)),e.store.setSelectedCons(t)},f=function(n,r){if(null!==n){var i=(0,h.Z)(t);i[r].name=n;var s=e.data.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.ingredient)||void 0===t?void 0:t.name_product)===n})),o=s[0].disposable_price_tg;i[r].id=s[0].id,i[r].price=1===a.selectedCategory.id?o.retail:o.price,e.store.setSelectedCons(i)}else!function(n){var r=(0,h.Z)(t);r.splice(n,1),e.store.setSelectedCons(r)}(r)};return(0,r.useEffect)((function(){t[t.length-1].name&&e.store.setSelectedCons([].concat((0,h.Z)(t),[{id:"",count:"",name:"",volume:"",price:"",total:""}]))}),[t]),(0,r.useEffect)((function(){var e=o.consunables.map((function(e){var t;return null===e||void 0===e||null===(t=e.ingredient)||void 0===t?void 0:t.name_product}));u(e)}),[e.data]),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"firstNumber",children:e.index+1}),(0,d.jsx)("td",{className:"kolvo",children:e.row.count}),(0,d.jsx)("td",{children:(0,d.jsx)(y.Z,{freeSolo:!0,options:[{id:18,disposable_price_tg:{price:801,retail:0},ingredient:{id:399,name_product:"GR-150ML-001 \u0413\u0440\u0430\u0444\u0438\u043d 150 \u043c\u043b \u0441\u0442\u0435\u043a\u043b\u043e"}},{id:19,disposable_price_tg:{price:1073,retail:0},ingredient:{id:400,name_product:"300-150 ml \u0433\u0440\u0430\u0444\u0438\u043d \u0441\u0442\u0435\u043a\u043b\u043e"}},{id:20,disposable_price_tg:{price:1929,retail:0},ingredient:{id:401,name_product:"GR-150ML-003 \u0413\u0440\u0430\u0444\u0438\u043d 150 \u043c\u043b \u0441\u0442\u0435\u043a\u043b\u043e \u0437\u043e\u043b\u043e\u0442\u043e "}}],getOptionLabel:function(e){var t;return(null===e||void 0===e||null===(t=e.ingredient)||void 0===t?void 0:t.name_product)||e||""},renderInput:function(e){return(0,d.jsx)("div",{ref:e.InputProps.ref,children:(0,d.jsx)("input",(0,x.Z)({style:{textAlign:"left",paddingLeft:"10px"},type:"text"},e.inputProps))})},name:"name",type:"text",autoSelect:!0,value:e.row.name,onChange:function(t,n){f(n,e.index)}})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{maxLength:8,name:"volume",type:"text",autoComplete:"off",className:i.Z.volume,value:(0,g.f)((0,b.Jr)(e.row.volume)),onChange:function(t){return p(t,e.index)}})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{name:"price",type:"number",className:i.Z.price,tabIndex:"0",value:e.row.price,onChange:function(t){return p(t,e.index)}})}),(0,d.jsx)("td",{className:i.Z.total,children:(0,g.f)(e.row.total)})]},e.index)})),w=(0,a.Pi)((function(e){var t=(0,r.useContext)(s._).orders,n=(0,r.useContext)(s._).products,a=(0,m.ZN)(t.selectedCons);return(0,r.useEffect)((function(){0===n.perfumes.length&&u().then((function(e){return n.setConsunables(e)}))}),[]),(0,d.jsx)("div",{children:(0,d.jsxs)("table",{className:i.Z.maintable,children:[(0,d.jsx)(f,{}),(0,d.jsx)("tbody",{id:"mainTableTbody","data-temp":"firstRow",children:a.map((function(e,r){return(0,d.jsx)(Z,{row:e,index:r,data:n.consunables,store:t},r)}))}),(0,d.jsx)(p,{subtotal:(0,g.f)(t.SecSubTotal),store:t})]})})}))},8501:function(e,t,n){"use strict";n.d(t,{c:function(){return c},u:function(){return o}});var r=n(4165),i=n(5861),s=n(568),a=n(456),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ab.get("user");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ab.post("user/registration",t);case 2:return n=e.sent,i=n.data,localStorage.setItem("token",i.token),e.abrupt("return",(0,a.Z)(i.token));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3938:function(e,t,n){"use strict";n.d(t,{K:function(){return a},t:function(){return s}});var r=n(6884),i=n(4424),s=function(e,t){return t[e].total=((0,i.F)(t[e].volume)*t[e].price).toFixed(0),a(t)},a=function(e){return(0,r.Z)(Array.from(e,(function(e){return e.total})).reduce((function(e,t){return Number(e)+Number(t)})))}},9329:function(e,t,n){"use strict";n.d(t,{F:function(){return i},v:function(){return s}});var r=n(3938);function i(e,t,n,i){for(var s=function(s){var a=t.filter((function(t){return(null===t||void 0===t?void 0:t.name)===e[s].name}));if(a.length>0&&a[0].inv_price_tg){var o=a[0].inv_price_tg;e[s].price=o[i],n.setSubTotal((0,r.t)(s,e)),n.setSelectedPerf(e)}},a=0;a<e.length;a++)s(a)}function s(e,t,n,r,i){var s=r.perfumes.filter((function(t){return(null===t||void 0===t?void 0:t.name)===e}));return"price_ml"===i&&(t>999?n=s[0].inv_price_tg.price_1000:t>499?n=s[0].inv_price_tg.price_500:t>249?n=s[0].inv_price_tg.price_250:(console.log(s),n=s[0].inv_price_tg[i])),n}},6884:function(e,t){"use strict";t.Z=function(e){return parseFloat(parseFloat(e).toFixed(2))}},3514:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(2791),i=n(1413),s=n(3433),a=n(9439),o=n(32),c=n(4098),l=n(1010),u=n(6884),d=n(7635),p=n(3938),f=n(4424),x=n(837),h=n(550),v=n(9329);function m(e,t,n,r,i,s){var a,o;return(0,v.F)(e,i,r,s),e.forEach((function(i,s){"Discount"===t&&""!==i.name&&""!==r.percent&&(a=(0,h.Yw)(i.price-i.price/100*n),i.price=a,o=(0,p.t)(s,e))})),r.setSubTotal(o),r.setSelectedPerf(e),a}n(9901);var y=n(184),g=(0,o.Pi)((function(e){var t=(0,c.ZN)(e.store.selectedPerf),n=(0,r.useContext)(x._),o=n.client,g=n.orders,j=n.products,b=(0,r.useState)([]),Z=(0,a.Z)(b,2),w=Z[0],_=Z[1],C=function(n,r){var i=n.target,a=i.name,c=i.value,l="volume"===a?(0,h.Jr)(c):c;if(t[r][a]=l,"price"===a)t[r][a]=c;else{var u=(0,v.v)(t[r].name,Number(t[r].volume),t[r].price,j,o.selectedCategory.type);t[r].price=u}var d=(0,s.Z)(t);e.store.setSubTotal((0,p.t)(r,d)),e.store.setSelectedPerf(d)},S=function(n,r){if(null!==n){var i=(0,s.Z)(t),a=j.perfumes.filter((function(e){return(null===e||void 0===e?void 0:e.name)===n}));a.length>0?(i[r].id=a[0].id,i[r].invTypeId=a[0].inv_master.invTypeId):(i[r].id="",i[r].invTypeId=""),i[r].name=n,i[r].price=(0,u.Z)(a[0].inv_price_tg[o.selectedCategory.type]),e.store.setSelectedPerf(i),m(i,g.saleType,g.percent,g,j.perfumes,o.selectedCategory.type)}else!function(n){var r=(0,s.Z)(t);r.splice(n,1),e.store.setSelectedPerf(r)}(r)};return(0,r.useEffect)((function(){t[t.length-1].name&&e.store.setSelectedPerf([].concat((0,s.Z)(t),[{id:"",invTypeId:"",count:"",name:"",volume:"",price:"",total:""}]))}),[t]),(0,r.useEffect)((function(){j.perfumes.map((function(e){return null===e||void 0===e?void 0:e.name}));_([{id:1037,name:"M-001 Versace Man Eau Fraich (\u043c\u0430\u0441\u043b\u043e)",inv_price_tg:{price_ml:106,price_250:90,price_500:80,price_1000:61,price_retail:500,price_special:61},inv_master:{invTypeId:0}},{id:1038,name:"M-001-D Versace Man Eau Fraich (\u043c\u0430\u0441\u043b\u043e)",inv_price_tg:{price_ml:91,price_250:78,price_500:69,price_1000:47,price_retail:500,price_special:47},inv_master:{invTypeId:4}},{id:1039,name:"M-001-T Versace Man Eau Fraich (\u043c\u0430\u0441\u043b\u043e)",inv_price_tg:{price_ml:81,price_250:69,price_500:61,price_1000:39,price_retail:300,price_special:38},inv_master:{invTypeId:1}},{id:1040,name:"M-001P Versace Man Eau Fraich (\u043f\u0430\u0440\u0444\u044e\u043c)",inv_price_tg:{price_ml:83,price_250:71,price_500:63,price_1000:50,price_retail:250,price_special:32},inv_master:{invTypeId:2}}])}),[e.data]),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"firstNumber",children:e.index+1}),(0,y.jsx)("td",{className:"kolvo",children:e.row.count}),(0,y.jsx)("td",{children:(0,y.jsx)(l.Z,{freeSolo:!0,options:w,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.name)||e||""},renderInput:function(e){return(0,y.jsx)("div",{ref:e.InputProps.ref,children:(0,y.jsx)("input",(0,i.Z)({style:{textAlign:"left",paddingLeft:"10px"},type:"text"},e.inputProps))})},name:"name",type:"text",autoSelect:!1,value:e.row.name,onChange:function(t,n){S(n,e.index)}})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{name:"volume",maxLength:6,type:"text",autoComplete:"off",className:d.Z.volume,value:(0,h.Jr)(e.row.volume),onChange:function(t){return C(t,e.index)}})}),(0,y.jsx)("td",{children:(0,y.jsx)("input",{name:"price",type:"number",className:d.Z.price,tabIndex:"0",value:e.row.price,onChange:function(t){return C(t,e.index)}})}),(0,y.jsx)("td",{className:d.Z.total,children:(0,f.f)(e.row.total)})]},e.index)})),j=(0,o.Pi)((function(e){return(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{style:{width:"4%"},children:"\u2116"}),(0,y.jsx)("th",{style:{width:"8%"},children:"Quantity"}),(0,y.jsx)("th",{style:{width:"60%"},children:"Name"}),(0,y.jsx)("th",{style:{width:"8%"},children:"Volume"}),(0,y.jsx)("th",{style:{width:"8%"},children:"Price"}),(0,y.jsx)("th",{style:{width:"10%"},children:"Result"})]})})})),b=(0,o.Pi)((function(e){var t=e.store,n=(0,r.useContext)(x._).client,i=(0,s.Z)((0,c.ZN)(t.selectedPerf)),o=(0,r.useState)(""),l=(0,a.Z)(o,2),u=(l[0],l[1]),p=e.client.selectedCategory.type,f=e.products.perfumes;(0,r.useEffect)((function(){var n=0;if("Bonus"===e.type){for(var r=0;r<t.paymentRows.length;r++)n+=t.paymentRows[r].sum;if(n>=t.SubTotal){var i=(.03*t.SubTotal).toFixed(0);u(i),e.store.setPercent(i)}}}),[t.paymentRows,t.percent,t.saleType]);return(0,y.jsxs)("tfoot",{id:"firstfoot",children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{colSpan:"3",rowSpan:"4",className:d.Z.plus,children:(0,y.jsx)("div",{children:"Fragrances"})}),(0,y.jsx)("td",{children:"Summary"}),(0,y.jsx)("td",{colSpan:"3",children:e.subtotal})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)("button",{className:d.Z.show,id:"show",onClick:function(){var t="Discount"===e.type?"Bonus":"Discount",r="Discount"===e.type?2:3,i=n.categories.find((function(e){return(null===e||void 0===e?void 0:e.id)===r}));void 0!==i&&n.setSelectedCategory(i),e.store.setSaleType(t)},children:e.type})}),(0,y.jsxs)("td",{colSpan:"3",children:[(0,y.jsx)("input",{className:"".concat(d.Z.mainBonus," ").concat("Bonus"===e.type?d.Z.readOnly:""),autoComplete:"off",type:"text",maxLength:"3",value:e.store.percent,onChange:function(n){var r=(0,h.Jr)(n.target.value);r>99&&(r=99),u(r),e.store.setPercent(r),m(i,e.type,r,t,f,p)},readOnly:"Bonus"===e.type}),(0,y.jsx)("span",{style:"Bonus"===e.type?{display:"none"}:{display:"contents"},className:"percentSpan",children:"%"})]})]})]})})),Z=n(4165),w=n(5861),_=n(568),C=function(){var e=(0,w.Z)((0,Z.Z)().mark((function e(){var t,n;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.DN.get("product/perf");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(0,o.Pi)((function(e){var t=e.data.orders,n=e.data.client,i=e.data.products,s=(0,c.ZN)(t.selectedPerf);return(0,r.useEffect)((function(){0===i.perfumes.length&&C().then((function(e){return i.setPerfumes(e)}))}),[]),(0,y.jsxs)("table",{className:d.Z.maintable,children:[(0,y.jsx)(j,{}),(0,y.jsx)("tbody",{id:"mainTableTbody","data-temp":"firstRow",children:s.map((function(e,n){return(0,y.jsx)(g,{row:e,index:n,data:i.perfumes,store:t},n)}))}),(0,y.jsx)(b,{client:n,products:i,subtotal:(0,f.f)(t.SubTotal),percent:t.percent,type:t.saleType,store:t})]})}))},6206:function(e,t,n){"use strict";n.d(t,{J:function(){return o},_:function(){return a}});var r=n(4165),i=n(5861),s=n(568),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Today:[],"The day before":[],"Two days or more":[{id:4227,clientId:440,name:"\u0414\u0435\u043d\u0438\u0441",order_date:"2023-03-15T13:53:48.000Z",total:78171,closed:2},{id:6426,clientId:231,name:"\u0410\u044f\u043d",order_date:"2023-02-03T00:00:00.000Z",total:13504,closed:2},{id:6444,clientId:10,name:"\u0410\u0434\u0435\u043b\u0438\u044f",order_date:"2023-02-10T00:00:00.000Z",total:5680,closed:2},{id:6449,clientId:231,name:"\u0410\u044f\u043d",order_date:"2023-02-13T00:00:00.000Z",total:81120,closed:2},{id:6455,clientId:240,name:"\u0416\u0430\u0440\u0430\u0441",order_date:"2023-02-15T00:00:00.000Z",total:36426,closed:2},{id:6457,clientId:240,name:"\u0416\u0430\u0440\u0430\u0441",order_date:"2023-03-15T13:53:48.000Z",total:15233,closed:2},{id:6458,clientId:371,name:"\u0414\u0430\u0441\u0442\u0430\u043d",order_date:"2023-02-15T00:00:00.000Z",total:19466,closed:2},{id:6459,clientId:423,name:"\u0415\u043b\u0430\u043c\u0430\u043d",order_date:"2023-03-14T13:53:48.000Z",total:11940,closed:2},{id:6466,clientId:19,name:"\u0410\u0439\u0434\u043e\u0441",order_date:"2023-03-14T13:53:48.000Z",total:53600,closed:2},{id:6467,clientId:19,name:"\u0410\u0439\u0434\u043e\u0441",order_date:"2023-02-18T00:00:00.000Z",total:40750,closed:2},{id:6468,clientId:87,name:"\u0413\u0443\u043b\u044c\u0436\u0430\u043d\u0430\u0442",order_date:"2023-03-10T00:00:00.000Z",total:126600,closed:2},{id:6469,clientId:87,name:"\u0413\u0443\u043b\u044c\u0436\u0430\u043d\u0430\u0442",order_date:"2023-03-13T13:53:48.000Z",total:18900,closed:2}]},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("order/bufOrder",{params:{id:t}});case 2:return n=e.sent,i=n.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9901:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(4165),i=n(5861),s=n(9439),a=n(2791),o=n(837),c=n(1627);var l=n.p+"static/media/trash.0fe8af7c867271922052c45e5c79597c.svg",u=n(5289),d=n(5661),p=n(9157),f=n(1691),x=n(7123),h=n(6151),v=n(184),m=function(e){var t=e.open,n=e.close,r=e.title,i=e.message,s=e.btnAction1,a=e.btnText1,o=e.btnAction2,c=e.btnText2;return(0,v.jsxs)(u.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,v.jsx)(d.Z,{id:"alert-dialog-title",children:r}),(0,v.jsx)(p.Z,{children:(0,v.jsx)(f.Z,{id:"alert-dialog-description",children:i})}),(0,v.jsxs)(x.Z,{children:[(0,v.jsx)(h.Z,{onClick:s,children:a}),(0,v.jsx)(h.Z,{onClick:o,autoFocus:!0,children:c})]})]})},y=n(6935),g=(n(7892),n(4422)),j=n(6206),b=n(32),Z=n(5982),w=(0,b.Pi)((function(e){var t=(0,a.useContext)(o._),n=t.client,u=t.orders,d=(t.products,(0,a.useState)(!1)),p=(0,s.Z)(d,2),f=p[0],x=p[1];(0,a.useEffect)((function(){0!==u.bufId.length&&((0,g.v2)(u,n,u.bufId.sale),(0,g.ut)(u,u.bufId.perfumes),(0,g.eu)(u,u.bufId.disposables),(0,g.HI)(u,u.bufId.payments),u.setKeyDown(!1))}),[u.bufId]);var h="You will not be able to return the order under the number "+e.id;function b(){return(b=(0,i.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==n.key){t.next=3;break}return t.next=3,(0,j.J)(e.id).then((function(e){return u.setBufId(e)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(e){x(!1)},_=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(s){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.wH)(e.id).then((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onUpdate();case 2:x(!1),(0,Z.f)(n,u);case 4:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:c.Z.div_bufopt,children:[(0,v.jsx)("input",{type:"radio",name:"selected",onKeyDown:function(e){return b.apply(this,arguments)},onClick:function(e){var t=e.target.parentNode;document.querySelectorAll(".".concat(c.Z.div_bufopt)).forEach((function(e){e!==t&&(e.style.borderRight="none",e.style.borderLeft="none",e.style.borderTop="none")})),t.style.borderRight="1px solid black",t.style.borderLeft="1px solid black",t.style.borderTop="0.5px solid black"},className:c.Z.selectradio,id:e.id,value:""}),(0,v.jsxs)("label",{className:c.Z.option_label,htmlFor:e.id,children:[e.date," - ",e.client," - ",e.name," "]}),(0,v.jsx)("button",{className:c.Z.imgbuffer,imgid:e.id,onClick:function(e){x(!0)},children:(0,v.jsx)("img",{src:l,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",width:20})}),(0,v.jsx)(m,{open:f,close:w,title:"Delete an order?",message:h,btnAction1:w,btnText1:"Cancel",btnAction2:_,btnText2:"Delete"})]})})})),_=w},4422:function(e,t,n){"use strict";n.d(t,{HI:function(){return u},eu:function(){return l},ut:function(){return c},v2:function(){return o}});var r=n(7892),i=n.n(r),s=n(1603),a=n(3938);function o(e,t,n){var r=n[0].order_date,a=t.clients.find((function(e){return(null===e||void 0===e?void 0:e.id)===n[0].clientId})),o=t.categories.find((function(e){return(null===e||void 0===e?void 0:e.id)===n[0].sales_type}));t.setSelectedClient((0,s.Z)(a.id)+" "+a.name+" "+a.city.city+" "+a.clients_phone.phone+" "+(a.clients_phone.phone2?a.clients_phone.phone2+" ":"")+(a.clients_phone.phone3?a.clients_phone.phone3:"")),t.setSelectedCategory(o),t.setSelectedDelivery(n[0].expeditorId),t.setDate(i()(r.split("T")[0],"YYYY-MM-DD").format("DD/MM/YYYY")),2===o.id?e.setSaleType("Bonus"):e.setSaleType("Discount"),e.setPercent(n[0].add_bonus),e.setKeyDown(!0)}function c(e,t){if(0!==t.length){var n=t.map((function(e){return{id:e.id,invTypeId:e.inv_master.id,name:e.inv_master.name.name,volume:e.qty,price:e.price,total:e.total}}));e.setSelectedPerf(n),e.setSubTotal((0,a.K)(n))}}function l(e,t){if(0!==t.length){var n=t.map((function(e){return{id:e.disposable.id,name:e.disposable.ingredient.name_product,volume:e.qty,price:e.price,total:e.total}}));e.setSelectedCons(n),e.setSecSubTotal((0,a.K)(n))}}function u(e,t){if(0!==t.length){var n=t.map((function(e){var t=e.updatedAt;return{score:e.paymentTypeId,sum:e.sum,date:i()(t.split("T")[0],"YYYY-MM-DD").format("DD/MM/YYYY"),photoCheck:e.link}}));e.setPaymentRows(n)}}},4173:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(9439),i=n(4165),s=n(5861),a=n(2791),o=n(1627),c=n(9901),l=n(184),u=function(e){return(0,l.jsx)("div",{className:o.Z.div_bufopt_header,children:e.label})},d=n(837),p=n(6206),f=(0,n(32).Pi)((function(e){var t=(0,a.useContext)(d._),n=t.orders;t.client;(0,a.useEffect)((function(){0===n.bufOrders.length&&(0,p._)().then((function(e){return n.setBufOrders(e)}))}),[]);var f=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p._)();case 2:t=e.sent,n.setBufOrders(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:o.Z.module,children:[(0,l.jsx)("div",{className:o.Z.buffer_label,children:"Buffer"}),(0,l.jsx)("div",{id:"buffer",children:n.bufOrders&&Object.entries(n.bufOrders).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)(u,{label:n}),i.map((function(e){return(0,l.jsx)(c.Z,{onUpdate:f,id:e.id,date:e.order_date.slice(0,e.order_date.indexOf("T")),client:e.clientId,name:e.name})}))]},n)}))})]})})),x=f},3289:function(e,t,n){"use strict";n.d(t,{KV:function(){return c},Tu:function(){return a},pE:function(){return o},pr:function(){return u},wG:function(){return l}});var r=n(4165),i=n(5861),s=n(568),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client/salesCategory");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client/deliveryTypes");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client/getHistory");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.DN.get("client/getHistory",{params:{id:t}});case 2:return n=e.sent,i=n.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1603:function(e,t){"use strict";t.Z=function(e){var t=4-String(e).length;return String(e).padStart(String(e).length+t,"0")}},1085:function(e,t,n){"use strict";n.d(t,{Z:function(){return pe}});var r=n(9439),i=n(2791),s=n(3289),a=n(837),o=n(32),c=n(1413),l=n(7391),u=n(6571),d=n(7792),p=n(7163),f=n(7414),x=n(7892),h=n.n(x),v=n(184),m=(0,o.Pi)((function(e){var t=(0,i.useContext)(a._).client,n=h()(e.date).format("DD.MM.YYYY");""===t.date&&t.setDate(n);var r=h()(t.date,"DD/MM/YYYY"),s=h()().format("DD/MM/YYYY"),o=r.format("DD/MM/YYYY")===s?"Today":"Date";return(0,v.jsx)(u._,{dateAdapter:d.y,children:(0,v.jsx)(f.Z,{spacing:3,sx:{width:"100%"},size:"small",children:(0,v.jsx)(p.$,{label:o,inputFormat:"DD/MM/YYYY",onChange:function(e){var n=h()(e).format("DD/MM/YYYY");t.setDate(n)},value:r,renderInput:function(e){return(0,v.jsx)(l.Z,(0,c.Z)({variant:"standard",size:"small"},e))}})})})})),y=n(3433),g=n(7865),j=n(8406),b=n(9329),Z=n(4098),w=n(3938);function _(e,t,n,r){for(var i=function(i){var s=t.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.ingredient)||void 0===n?void 0:n.name_product)===e[i].name}));if(s.length>0&&s[0].disposable_price){var a=s[0].disposable_price;e[i].price=1===r?a.retail:a.price,n.setSubTotal((0,w.t)(i,e)),n.setSelectedCons(e)}},s=0;s<e.length;s++)i(s)}var C=(0,o.Pi)((function(e){var t=e.categories,n=(0,i.useContext)(a._),r=n.client,s=n.orders,o=n.products,c=(0,Z.ZN)(s.selectedPerf),l=(0,Z.ZN)(s.selectedCons),u=(0,y.Z)(c);(0,i.useEffect)((function(){(0,b.F)(u,o.perfumes,s,r.selectedCategory.type),_(l,o.consunables,s,r.selectedCategory.id),s.keyDown}),[r.selectedCategory]);return(0,v.jsx)(j.Z,{sx:{minWidth:"100%"},value:r.selectedCategory.id||"",size:"small",variant:"standard",onChange:function(e){var n=e.target.value,i=t.find((function(e){return(null===e||void 0===e?void 0:e.id)===n}));r.setSelectedCategory(i),(0,b.F)(u,o.perfumes,s,r.selectedCategory.type),_(l,o.consunables,s,r.selectedCategory.id),console.log(i),s.setSaleType(2===i.id?"Bonus":"Discount")},children:t.map((function(e,t){return(0,v.jsx)(g.Z,{value:e.id,children:e.category},t)}))})})),S=n(8096),T=n(4925),k=(0,o.Pi)((function(){var e=(0,i.useContext)(a._).client,t=e.delivery;return(0,v.jsxs)(S.Z,{fullWidth:!0,children:[(0,v.jsx)(T.Z,{id:"del-label",children:"Delivery"}),(0,v.jsx)(j.Z,{sx:{width:"90%"},size:"small",variant:"standard",labelId:"del-label",value:e.selectedDelivery||"",onChange:function(t){e.setSelectedDelivery(t.target.value)},children:t.map((function(e,t){return(0,v.jsxs)(g.Z,{value:e.id,children:[(0,v.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,v.jsx)("img",{width:"20",src:"https://app.fragrancia.asia".concat(e.expeditor_type.link),alt:e.expeditor_type.expeditor_type}),e.label]})," "]},t)}))})]})})),D=n(4942),N=n(4554),I=n(4557),P=n(2802),F=n(7088),Y=n(9885),B=n(4165),M=n(5861),R=n.p+"static/media/Montserrat-Light.6fcc9263a21be961d246.ttf",E=n(1814),L=n(1593),O=(n.p,n(4424)),z=n(9206),A=n(6935),G=n(5982),K=n(4442);L.Zx.register({family:"Montserrat",src:R});var H=(0,o.Pi)((function(e){var t=(0,i.useState)(!1),n=(0,r.Z)(t,2),s=n[0],o=n[1],c=(0,i.useState)(!1),l=(0,r.Z)(c,2),u=l[0],d=l[1],p=(0,i.useState)(!1),f=(0,r.Z)(p,2),x=f[0],h=f[1],m=/\d{11,13}/g,y=(0,i.useContext)(a._),g=y.client,j=y.orders,b=j.paymentRows.filter((function(e){return""!==e.score})),Z=j.selectedPerf.filter((function(e){return""!==e.name})),w=j.selectedCons.filter((function(e){return""!==e.name})),_=Object.values(j.selectedFile).filter((function(e){return void 0!==e})),C=L.mM.create({title:{fontFamily:"Montserrat",fontSize:24,marginBottom:10},body:{fontFamily:"Montserrat",fontSize:12},page:{fontFamily:"Montserrat",padding:"10px",backgroundColor:"hsl(35, 20%, 96%)"},view:{fontSize:"12px",paddingLeft:"20px",paddingTop:"10px"},mainLogo:{display:"flex",flexDirection:"column",width:"100%",letterSpacing:2,fontSize:25,marginTop:"5px",fontWeight:"bold"},companyInfo:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-end",marginTop:"40px"},clientBlock:{width:"100%",display:"flex",marginTop:"5px",paddingTop:"20px",paddingLeft:"10px",paddingRight:"10px",flexDirection:"column",gap:"10px"},thRow:{padding:"10px",marginTop:"50px",display:"flex",flexDirection:"row",fontSize:"13px",letterSpacing:2},thRowBorder:{borderBottom:"2px solid black"}}),S=(0,v.jsx)(L.BB,{children:(0,v.jsxs)(L.T3,{wrap:!0,style:C.page,children:[(0,v.jsx)(L.G7,{style:C.mainLogo,children:(0,v.jsx)(L.G7,{style:{display:"flex",alignItems:"center",width:"100%"},children:(0,v.jsx)(L.xv,{children:"Fragrancia"})})}),(0,v.jsx)(L.G7,{style:C.companyInfo,children:(0,v.jsxs)(L.G7,{style:{display:"flex",flexDirection:"column",fontSize:"10px",paddingRight:"15px",alignItems:"flex-end",lineHeight:1.5,letterSpacing:1},children:[(0,v.jsx)(L.xv,{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u043e\u0444\u0435\u0440\u0442\u043e\u0439"}),(0,v.jsx)(L.xv,{children:"\u0433. \u0410\u043b\u043c\u0430\u0442\u044b \u0443\u043b. \u0422\u043e\u043b\u0435 \u0411\u0438 286/4, 3 \u044d\u0442\u0430\u0436 308 \u043e\u0444\u0438\u0441"}),(0,v.jsx)(L.xv,{children:"t.me/fragrancia_asia"}),(0,v.jsx)(L.xv,{children:"+7 777 099 15 25"}),(0,v.jsx)(L.xv,{children:"fragrancia.kz"})]})}),(0,v.jsxs)(L.G7,{style:C.clientBlock,children:[(0,v.jsx)(L.G7,{style:{display:"flex",flexDirection:"column",fontSize:"13px",lineHeight:1.5,letterSpacing:2},children:(0,v.jsx)(L.xv,{children:e.data.date})}),(0,v.jsxs)(L.G7,{style:{display:"flex",flexDirection:"column",fontSize:"13px",lineHeight:1.5,letterSpacing:2},children:[(0,v.jsxs)(L.xv,{children:["Client: ",e.data.client]}),(0,v.jsxs)(L.xv,{children:["Delivery: ",e.data.delivery]})]})]}),0!==e.data.perf&&""!==e.data.perf[0].name&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(L.G7,{style:C.thRow,children:[(0,v.jsx)(L.xv,{style:{width:"90%"},children:"\u0410\u0440\u043e\u043c\u0430\u0442"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u041a-\u0432\u043e"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u0426\u0435\u043d\u0430"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u0422\u043e\u0442\u0430\u043b"})]}),(0,v.jsx)(L.G7,{style:C.thRowBorder})]}),function(e,t,n){if(0!==e.length&&""!==e[0].name)return(0,v.jsxs)(L.G7,{style:{margin:0,padding:0},children:[(0,v.jsx)(L.xv,{children:n}),(0,v.jsx)(L.G7,{style:C.view,children:e.map((function(e,t){return""===e.name?"":(0,v.jsxs)(L.G7,{style:{display:"flex",flexDirection:"row",width:"100%",marginTop:"7px",marginLeft:"-6px",padding:"5px",borderBottom:"0.5px black solid"},children:[(0,v.jsx)(L.xv,{style:{width:"90%"},children:e.name}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.volume}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.price+"\u20b8"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.total+"\u20b8"})]},t)}))}),(0,v.jsxs)(L.xv,{style:{textAlign:"right",paddingTop:"10px",fontSize:"13px",letterSpacing:2},children:["\u041f\u043e\u0434\u044b\u0442\u043e\u0433: ",t+"\u20b8"]})]})}(e.data.perf,(0,O.f)(e.data.total1)),0!==e.data.cons&&""!==e.data.cons[0].name&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(L.G7,{style:C.thRow,children:[(0,v.jsx)(L.xv,{style:{width:"90%"},children:"\u0410\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u041a-\u0432\u043e"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u0426\u0435\u043d\u0430"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:"\u0422\u043e\u0442\u0430\u043b"})]}),(0,v.jsx)(L.G7,{style:C.thRowBorder})]}),function(e,t,n){if(0!==e.length&&""!==e[0].name)return(0,v.jsxs)(L.G7,{style:{margin:0,padding:0},children:[(0,v.jsx)(L.xv,{children:n}),(0,v.jsx)(L.G7,{style:C.view,children:e.map((function(e,t){return""===e.name?"":(0,v.jsxs)(L.G7,{style:{display:"flex",flexDirection:"row",width:"100%",marginTop:"7px",marginLeft:"-6px",padding:"5px",borderBottom:"0.5px black solid"},children:[(0,v.jsx)(L.xv,{style:{width:"90%"},children:e.name}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.volume}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.price+"\u20b8"}),(0,v.jsx)(L.xv,{style:{width:"20%"},children:e.total+"\u20b8"})]},t)}))}),(0,v.jsxs)(L.xv,{style:{textAlign:"right",paddingTop:"10px",fontSize:"13px",letterSpacing:2},children:["\u041f\u043e\u0434\u044b\u0442\u043e\u0433: ",t+"\u20b8"]})]})}(e.data.cons,(0,O.f)(e.data.total2)),(0,v.jsx)(L.G7,{style:{display:"flex",fontSize:"13px",letterSpacing:2,alignItems:"flex-end",marginTop:"50px"},children:(0,v.jsxs)(L.xv,{children:["\u0418\u0422\u041e\u0413\u041e: ",(0,O.f)(e.data.mainTotal),"\u20b8"]})})]})});(0,i.useEffect)((function(){(0,z.K)(g.selectedClient,j.selectedPerf,j.selectedCons,j.paymentRows)&&o(e.open)}),[e.open]);var T=function(){d(!1),h(!1)},k=function(){var e=(0,M.Z)((0,B.Z)().mark((function e(t){var n,r,i,s,a;return(0,B.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),n=0!==j.bufId.length?j.bufId.sale[0].id:null,2,r="hunter"===window.location.href.split("/")[3]?1:2,i={sales:{id:n,clientId:g.selectedClient.split(" ")[0],client_type:r,order_date:g.date,sales_type:g.selectedCategory.id,total:j.grandTotal,spent_bonus:!0===j.bonusCheck?j.spentBonus:0,add_bonus:"Bonus"===j.saleType?Number(j.percent).toFixed(0):0,discount:"Discount"===j.saleType?Number(j.percent):0,comment:j.comment,expeditorId:g.selectedDelivery,closed:2},payments:b.map((function(e){return{sum:e.sum,createdAt:e.date,link:e.photoCheck,paymentTypeId:e.score}})),perf:Z.map((function(e){return{product_id:e.id,type:e.invTypeId,qty:(0,O.F)(e.volume),price:e.price,total:e.total}})),disp:w.map((function(e){return{product_id:e.id,qty:(0,O.F)(e.volume),price:e.price,total:e.total}}))},e.prev=5,e.next=8,(0,A.LV)(i);case 8:if(0!==_.length){e.next=12;break}console.log("No files to upload"),e.next=22;break;case 12:for(s=new FormData,a=0;a<_.length;a++)s.append("image",_[a]);return e.prev=14,e.next=17,(0,A.i6)(s);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.log(e.t0);case 22:(0,G.f)(g,j),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(5),console.error(e.t1);case 28:case"end":return e.stop()}}),e,null,[[5,25],[14,19]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:s&&(0,v.jsxs)(L.WD,{document:S,fileName:e.data.client+" "+e.data.date+".pdf",children:[(0,v.jsx)(F.Z,{icon:(0,v.jsx)(E.Z,{style:{color:"#cb0606"}}),tooltipTitle:"pdf",open:e.open,onClick:function(){return k(),window.open("https://wa.me/".concat(e.data.client.match(m))),void h(!0)}}),(0,v.jsx)(K.Z,{message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f",severity:"warning",open:u,handleClose:T}),(0,v.jsx)(K.Z,{message:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b",severity:"success",open:x,handleClose:T})]})})})),U=H,V=n(2858),J=n.n(V),q=function(e){var t=[{name:"",volume:"",price:"",total:""}],n=function(e){return[{name:e,volume:"",price:"",total:""}]},r=function(e){return[{name:"",volume:"",price:"\u041f\u043e\u0434\u044b\u0442\u043e\u0433",total:e}]},i=[{price:"Bonus:",total:0},{price:"\u0414\u043e \u0441\u043a\u0438\u0434\u043a\u0438:",total:e.withoutBonus},{price:"C\u043a\u0438\u0434\u043aa:",total:e.discount},{price:"\u041a \u043e\u043f\u043b\u0430\u0442\u0435:",total:e.mainTotal}],s=[].concat(function(){var i=(0,Z.ZN)(e.perf);return 1===i.length&&""===i[0].name||0===i.length?[]:n("Fragrances").concat(i,t,r(e.total2))}(),function(){var i=(0,Z.ZN)(e.cons);return 1===i.length&&""===i[0].name||0===i.length?[]:n("Accessories").concat(i,t,r(e.total2))}(),i),a=[{sheet:"Cheque",columns:[{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",value:"name"},{label:"\u041a-\u0432\u043e",value:"volume"},{label:"\u0426\u0435\u043d\u0430",value:"price"},{label:"\u0422\u043e\u0442\u0430\u043b",value:"total"}],content:s}],o={fileName:e.client+""+e.date,writeMode:"writeFile",writeOptions:{}};J()(a,o)},W=(0,o.Pi)((function(e){var t=(0,i.useState)(!1),n=(0,r.Z)(t,2),s=n[0],o=n[1],c=(0,i.useContext)(a._).orders,l=(0,i.useContext)(a._).client,u=l.delivery.find((function(e){return(null===e||void 0===e?void 0:e.id)===l.selectedDelivery})),d={perf:c.selectedPerf,cons:c.selectedCons,payments:c.paymentRows,total1:c.SubTotal,total2:c.SecSubTotal,mainTotal:c.grandTotal,withoutBonus:c.withoutDiscount,discount:c.discount,client:l.selectedClient,date:l.date,delivery:void 0!==u?u.label:"",debt:c.calcDebt,wpLink:l.wpLink,orderId:void 0===c.bufId.sale?0:c.bufId.sale[0].id};return(0,v.jsx)(N.Z,{children:(0,v.jsxs)(I.Z,(0,D.Z)({ariaLabel:"SpeedDial basic example",sx:{position:"absolute",right:-5,top:0,"& .MuiFab-primary":{width:35,height:30,backgroundColor:"#757575"}},icon:(0,v.jsx)(P.Z,{style:{padding:0}}),direction:"down",children:(0,v.jsx)(U,{}),onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:s},"children",[(0,v.jsx)(U,{open:s,data:d}),(0,v.jsx)(F.Z,{icon:(0,v.jsx)(Y.Z,{style:{color:"green"}}),tooltipTitle:"excel",onClick:function(){return q(d)}})]))})})),$=n(1010),Q=n(1603),X=n(4167),ee=(0,o.Pi)((function(e){var t,n=(0,i.useContext)(a._),s=n.client,o=n.orders,u=(n.products,/\d{11,13}/g);t="\u041a\u043b\u0438\u0435\u043d\u0442"===e.label?e.data.map((function(e){return(0,Q.Z)(e.id)+" "+e.name+" "+e.city.city+" "+e.clients_phone.phone+" "+(e.clients_phone.phone2?e.clients_phone.phone2+" ":"")+(e.clients_phone.phone3?e.clients_phone.phone3:"")})):e.data.map((function(e){return e.city}));var d=(0,i.useState)(""),p=(0,r.Z)(d,2),f=p[0],x=p[1];return(0,i.useEffect)((function(){if(""!==s.selectedClient&&null!==s.selectedClient){var t="string"===typeof s.selectedClient?s.selectedClient.split(" ")[0]:"",n=e.data.find((function(e){return(null===e||void 0===e?void 0:e.id)===Number(t)})),r=s.categories.find((function(e){return(null===e||void 0===e?void 0:e.id)===n.sales_type.id}));s.setSelectedCategory(r);var i=s.delivery.find((function(e){return(null===e||void 0===e?void 0:e.id)===n.expeditor.id}));void 0!==i&&s.setSelectedDelivery(i.id),o.setSaleType(2===r.id?"Bonus":"Discount"),o.setSpentBonus(n.bonus),o.setInitialDebt(n.debt)}}),[s.selectedClient]),(0,i.useEffect)((function(){""!==f&&s.setWpLink(f)}),[f]),(0,v.jsx)($.Z,{sx:{width:"90%"},freeSolo:!0,size:"small",options:t,autoComplete:"off",renderInput:function(t){return(0,v.jsx)(l.Z,(0,c.Z)((0,c.Z)({autoComplete:"off",variant:"standard"},t),{},{label:e.label,inputProps:(0,c.Z)({},t.inputProps)}))},name:"name",type:"text",value:s.selectedClient||"",onChange:function(e,t){if(null!==t){s.setSelectedClient(t);var n=t.match(u),r=n&&n.length>0?n[0]:null;x("https://wa.me/".concat(r))}else(0,X.U)(s,o)}})})),te=n(6409),ne=n(9875),re=n(3400),ie=(0,o.Pi)((function(e){var t=(0,i.useContext)(a._).client;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(re.Z,{"aria-label":"delete",onClick:function(){window.open(t.wpLink)},children:(0,v.jsx)(ne.Z,{sx:{color:"#065f3b"},component:te.Z,alt:"logo"})})})})),se=(0,o.Pi)((function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=(t[0],t[1],(0,i.useContext)(a._).client);(0,i.useEffect)((function(){(0,s.KV)().then((function(e){return n.setDelivery(e)})),(0,s.Tu)().then((function(e){return n.setClients(e)})),(0,s.pE)().then((function(e){return n.setCategories(e)}))}),[]);var o=n.categories,c=JSON.parse(JSON.stringify(n.clients));return(0,v.jsxs)("div",{className:"infocard",children:[(0,v.jsxs)("div",{className:"first_part",children:[(0,v.jsx)(m,{}),(0,v.jsx)(C,{categories:o})]}),(0,v.jsxs)("div",{className:" second_part",children:[(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,v.jsx)(ee,{label:"Client",data:c}),(0,v.jsx)(ie,{})]}),(0,v.jsxs)("div",{style:{display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between"},children:[(0,v.jsx)(k,{}),(0,v.jsx)(W,{})]})]})]})})),ae=n(8501),oe=n(4650),ce=n(5172),le=n(9823),ue=(0,o.Pi)((function(e){(0,i.useContext)(a._).client;var t=(0,i.useState)("none"),n=(0,r.Z)(t,2),s=n[0],o=n[1],c=(0,i.useState)(ce.Z),u=(0,r.Z)(c,2),d=u[0],p=u[1];return(0,v.jsxs)("div",{style:{width:"90%"},children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)(l.Z,{label:"Name",variant:"standard",sx:{width:"45%"}}),(0,v.jsxs)("div",{style:{display:"flex",width:"45%"},children:[(0,v.jsx)(l.Z,{label:"Phone",variant:"standard",sx:{width:"80%"}}),(0,v.jsx)(re.Z,{"aria-label":"delete",onClick:function(){o("none"===s?"flex":"none"),d===le.Z?p(ce.Z):p(le.Z)},children:(0,v.jsx)(ne.Z,{sx:{color:"#757575"},component:d,alt:"logo"})})]})]}),(0,v.jsxs)("div",{style:{display:s,justifyContent:"space-between"},children:[(0,v.jsx)(l.Z,{label:"Second phone",variant:"standard",sx:{width:"45%"}}),(0,v.jsx)(l.Z,{label:"Third Phone",variant:"standard",sx:{width:"45%"}})]})]})})),de=(0,o.Pi)((function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=(t[0],t[1],(0,i.useContext)(a._)),o=n.client,c=n.user;(0,i.useEffect)((function(){(0,s.KV)().then((function(e){return o.setDelivery(e)})),(0,s.pE)().then((function(e){return o.setCategories(e)})),(0,oe.gT)().then((function(e){return o.setCities(e)})),(0,ae.u)().then((function(e){return c.setAllUsers(e)}))}),[]);var l=c.users,u=o.categories,d=o.cities;return(0,v.jsxs)("div",{className:"infocard",style:{height:"180px"},children:[(0,v.jsxs)("div",{className:"first_part",children:[(0,v.jsx)(m,{}),(0,v.jsx)(C,{categories:u}),(0,v.jsx)(C,{categories:l})]}),(0,v.jsxs)("div",{className:" second_part",style:{fontSize:"10px"},children:[(0,v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,v.jsx)(ee,{label:"Cities",data:d})}),(0,v.jsxs)("div",{style:{display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between"},children:[(0,v.jsx)(ue,{}),(0,v.jsx)(ie,{})]}),(0,v.jsxs)("div",{style:{display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between"},children:[(0,v.jsx)(k,{}),(0,v.jsx)(W,{})]})]})]})})),pe=(0,o.Pi)((function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=(t[0],t[1],(0,i.useContext)(a._).client);(0,i.useEffect)((function(){(0,s.KV)().then((function(e){return n.setDelivery(e)})),(0,s.Tu)().then((function(e){return n.setClients(e)})),(0,s.pE)().then((function(e){return n.setCategories(e)}))}),[]);n.categories,JSON.parse(JSON.stringify(n.clients));return"/farmer"===window.location.pathname?(0,v.jsx)(se,{}):(0,v.jsx)(de,{})}))},9206:function(e,t,n){"use strict";function r(e,t,n,r){var i=!0;if(""===e)return!1;if(""===t[0].name&&""===n[0].name&&""===r[0].score)return!1;for(var s=0;s<t.length;s++)if(""!==t[s].name){if(""===t[s].volume){i=!1;break}if(""===t[s].price){i=!1;break}}for(var a=0;a<n.length;a++)if(""!==n[a].name){if(""===n[a].volume){i=!1;break}if(""===n[a].price){i=!1;break}}for(var o=0;o<r.length;o++)if(""!==r[o].sum&&""===r[o].score){i=!1;break}return!!i}n.d(t,{K:function(){return r}})},396:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(2791),i=n(32),s=n(7635),a=n(4098),o=n(4942),c=n(1413),l=n(3433),u=n(9439),d=n(8406),p=n(7865),f=n(7892),x=n.n(f),h=n(7391),v=n(7163),m=n(6571),y=n(7792),g=n(4424),j=n(550),b=n(3400),Z=n(8086),w=n(5764),_=n(837),C=n(8267),S=n(184),T=(0,i.Pi)((function(e){var t=(0,r.useContext)(_._),n=t.orders,i=t.client,s=x()(i.date,"DD/MM/YYYY"),f=(0,r.useState)(s),T=(0,u.Z)(f,2),k=T[0],D=T[1],N=(0,a.ZN)(n.paymentRows),I=(0,l.Z)(N),P=(0,C.uI)({onDrop:function(t){t&&t.length>0&&n.setSelectedFile(e.index,t[0])}}),F=(P.acceptedFiles,P.getRootProps),Y=P.getInputProps,B=function(e,t){""===e?function(e){I.splice(e,1),n.setPaymentRows(I)}(t):(I[t].score=e,n.setPaymentRows(I))};(0,r.useEffect)((function(){var t=x()().format("DD.MM.YYYY");I[e.index].date=t,n.setPaymentRows(I)}),[]);var M=(0,a.ZN)(n.selectedFile)[e.index],R=Boolean(M);return(0,r.useEffect)((function(){if(R){var t=URL.createObjectURL(M);return n.setImgPreview(t),e.row.photoCheck=M.name,I[e.index].photoCheck=M.name,n.setPaymentRows(I),n.setSelectedFile((0,c.Z)((0,c.Z)({},(0,a.ZN)(n.selectedFile)),{},(0,o.Z)({},e.index,M))),function(){return URL.revokeObjectURL(t)}}n.setImgPreview(void 0)}),[R,M]),(0,r.useEffect)((function(){N[N.length-1].score&&n.setPaymentRows([].concat((0,l.Z)(N),[{score:"",sum:"",date:"",photoCheck:""}]))}),[N]),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsxs)(d.Z,{sx:{width:"100%",borderRadius:"0"},value:N[e.index].score,onChange:function(t){B(t.target.value,e.index)},children:[(0,S.jsx)(p.Z,{value:""}),(0,S.jsx)(p.Z,{value:"1",children:"Kaspi"}),(0,S.jsx)(p.Z,{value:"2",children:"\u041d\u0430\u043b \u20b8"}),(0,S.jsx)(p.Z,{value:"3",children:"Kaspi \u0410\u043a\u044b\u043b\u0431\u0435\u043a"}),(0,S.jsx)(p.Z,{value:"4",children:"Kaspi Pay"}),(0,S.jsx)(p.Z,{value:"5",children:"Forte \u0410\u043a\u044b\u043b\u0431\u0435\u043a"})]})}),(0,S.jsx)("td",{children:(0,S.jsx)("input",{type:"text",className:"sum",value:(0,g.f)(N[e.index].sum),onChange:function(t){return function(e,t){var r=(0,g.f)((0,j.el)(e.target.value));I[t].sum=(0,g.F)(r),n.setPaymentRows(I)}(t,e.index)}})}),(0,S.jsx)("td",{children:(0,S.jsx)(m._,{dateAdapter:y.y,children:(0,S.jsx)(v.$,{inputFormat:"DD/MM/YYYY",onChange:function(t){return function(e,t){var r=(0,l.Z)(N),i=x()(e).format("DD.MM.YYYY");r[t].date=i,n.setPaymentRows(r),D(e)}(t,e.index)},value:k,renderInput:function(e){return(0,S.jsx)(h.Z,(0,c.Z)((0,c.Z)({},e),{},{fullWidth:!0}))}})})}),(0,S.jsx)("td",{children:(0,a.ZN)(n.selectedFile)[e.index]?void 0!==(0,a.ZN)(n.selectedFile)[e.index]&&I[e.index].photoCheck&&(0,S.jsx)("a",{href:URL.createObjectURL((0,a.ZN)(n.selectedFile[e.index])),target:"_blank",rel:"noopener noreferrer",children:(0,S.jsx)(w.Z,{sx:{color:"rgba(0, 0, 0, 0.54)"},fontSize:"large"})}):I[e.index].photoCheck?(0,S.jsx)("a",{href:I[e.index].photoCheck,target:"_blank",rel:"noopener noreferrer",children:(0,S.jsx)(w.Z,{sx:{color:"rgba(0, 0, 0, 0.54)"},fontSize:"large"})}):(0,S.jsxs)("div",(0,c.Z)((0,c.Z)({},F({index:e.index})),{},{children:[(0,S.jsx)("input",(0,c.Z)({},Y())),(0,S.jsx)(b.Z,{"aria-label":"upload picture",component:"label",size:"small",children:(0,S.jsx)(Z.Z,{fontSize:"medium"})})]}))})]},e.index)})),k=(0,i.Pi)((function(e){return(0,S.jsx)("thead",{style:{backgroundColor:"#7F1D1D"},children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{style:{width:"20%"},children:"Account"}),(0,S.jsx)("th",{style:{width:"30%"},children:"Amount"}),(0,S.jsx)("th",{style:{width:"30%"},children:"Date"}),(0,S.jsx)("th",{style:{width:"20%"},children:"Cheque"})]})})})),D=(0,i.Pi)((function(e){return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("tfoot",{children:(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:"4",rowSpan:"2",style:{backgroundColor:"#7F1D1D"},className:s.Z.plus,children:(0,S.jsx)("div",{className:s.Z.button_label,style:{color:"#7F1D1D"},children:"Payment"})})})})})})),N=(0,i.Pi)((function(e){var t=(0,r.useContext)(_._).orders,n=(0,a.ZN)(t.paymentRows);return(0,S.jsxs)("table",{className:s.Z.maintable,children:[(0,S.jsx)(k,{}),(0,S.jsx)("tbody",{id:"mainTableTbody","data-temp":"firstRow",children:n.map((function(e,t){return(0,S.jsx)(T,{row:e,index:t})}))}),(0,S.jsx)(D,{})]})}))},7635:function(e,t){"use strict";t.Z={maintable:"style_maintable__7kzko",plus:"style_plus__hvF3j",show:"style_show__B3MH5",mainBonus:"style_mainBonus__rH1cB",name:"style_name__fy0vc"}},1627:function(e,t){"use strict";t.Z={module:"style_module__kZ02q",buffer_label:"style_buffer_label__+9Nx2",div_bufopt_header:"style_div_bufopt_header__X1Erh",div_bufopt:"style_div_bufopt__-O977",selectradio:"style_selectradio__W3n7k",option_label:"style_option_label__uzWk0",imgbuffer:"style_imgbuffer__rTMkn"}},2480:function(){}}]);
//# sourceMappingURL=225.5e726da2.chunk.js.map