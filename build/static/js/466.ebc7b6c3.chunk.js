"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[466],{3904:function(e,n,t){t.d(n,{Z:function(){return $}});var a=t(9439),r=t(2791),i=t(6151),l=t(4942),s=t(5403),o=t(7630),c=t(2065),d=t(1572),u=t(184),x=function(){var e=(0,o.ZP)("div")((function(e){var n=e.theme;return(0,l.Z)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,c.Fq)(n.palette.common.white,.35),"&:hover":{backgroundColor:"#fff"},marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(1),width:"auto"})})),n=(0,o.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),t=(0,o.ZP)(d.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,l.Z)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("sm"),{width:"20ch"})}}));return(0,u.jsxs)(e,{children:[(0,u.jsx)(n,{children:(0,u.jsx)(s.Z,{})}),(0,u.jsx)(t,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})},h=t(5684),p=t(2951),f=t(1903),m=t(5527),Z=t(8096),j=t(4925),g=t(8406),v=t(7865),b=t(3400),y=t(5130),k=function(e){var n=r.useState(""),t=(0,a.Z)(n,2),i=t[0],l=t[1];return(0,u.jsxs)(Z.Z,{sx:{minWidth:200},children:[(0,u.jsx)(j.Z,{id:"demo-simple-select-label",children:e.name}),(0,u.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:e.name,onChange:function(e){l(e.target.value)},value:i,endAdornment:i?(0,u.jsx)(b.Z,{onClick:function(){l("")},children:(0,u.jsx)(y.Z,{})}):null,children:e.options.map((function(e,n){return(0,u.jsx)(v.Z,{value:e.id,children:e.value},n)}))})]})},C=t(5117),_=function(e){var n=r.useState(!1),t=(0,a.Z)(n,2),l=t[0],s=t[1],o=r.useState(null),c=(0,a.Z)(o,2),d=c[0],x=c[1];return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.Z,{startIcon:(0,u.jsx)(f.Z,{}),sx:{color:"gray"},onClick:function(e){x(e.currentTarget),s((function(e){return!e}))},children:"Filter"}),(0,u.jsx)(C.Z,{anchorEl:d,open:l,onClose:function(){s(!1)},children:(0,u.jsx)(m.Z,{style:{width:"350px",height:"fit-content",boxSizing:"border-box",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",boxShadow:"none"},children:Object.keys(e.select).map((function(n,t){return(0,u.jsx)(k,{name:e.select[n].name,options:e.select[n].values},t)}))})})]})},w=t(3433),I=t(4897),S=t(366),D=t(6759),N=function(e){var n=r.useState(e.direction),t=(0,a.Z)(n,2),i=t[0],l=t[1],s=e.change;return(0,u.jsxs)(Z.Z,{sx:{minWidth:200,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,u.jsx)("label",{children:e.name}),(0,u.jsx)(b.Z,{onClick:function(){var n="asc"===i?"desc":"asc";l(n),s(e.name,n,e.index)},color:"primary","aria-label":"add to shopping cart",children:"asc"===i?(0,u.jsx)(D.Z,{}):(0,u.jsx)(S.Z,{})})]})},P=t(837),z=function(e){var n=r.useContext(P._).kanban,t=r.useState(e.select),l=(0,a.Z)(t,2),s=l[0],o=l[1],c=function(e,t,a){var r=(0,w.Z)(s);r[a]={name:e,direction:t},o(r),n.sortData(r)},d=r.useState(!1),x=(0,a.Z)(d,2),h=x[0],p=x[1],f=r.useState(null),Z=(0,a.Z)(f,2),j=Z[0],g=Z[1];return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.Z,{startIcon:(0,u.jsx)(I.Z,{}),sx:{color:"gray"},onClick:function(e){g(e.currentTarget),p((function(e){return!e}))},children:"Sorting"}),(0,u.jsx)(C.Z,{anchorEl:j,open:h,onClose:function(){p(!1)},children:(0,u.jsx)(m.Z,{style:{width:"350px",height:"fit-content",boxSizing:"border-box",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",boxShadow:"none"},children:Object.keys(s).map((function(n,t){return(0,u.jsx)(N,{change:c,index:t,name:e.select[n].name,direction:e.select[n].direction},t)}))})})]})},R=t(1413),E=t(4554),F=t(7391),L=t(792),q=t(890),B=t(1010),A=t(6571),T=t(7792),M=t(7163),Y=t(7414),O=t(4165),W=t(5861),G=t(568),V=function(){var e=(0,W.Z)((0,O.Z)().mark((function e(n){var t,a;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.DN.post("lead",n);case 2:return t=e.sent,a=t.res,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:550,borderRadius:"5px",display:"flex",flexDirection:"column",gap:"2rem",bgcolor:"background.paper",boxShadow:24,pt:2,px:4,pb:3},H={width:"45%"},J={display:"flex",justifyContent:"space-between"},U=function(e){var n=e.open,t=e.onClose,s=e.cities,o=e.channels,c=e.managers,d=(0,r.useContext)(P._).kanban,x=(0,r.useState)(!1),h=(0,a.Z)(x,2),p=h[0],f=h[1],m={channel:"",city:"",name:"",phone:"",phone2:"",phone3:"",staff:"",date:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})},b=(0,r.useState)(m),y=(0,a.Z)(b,2),k=y[0],C=y[1],_=function(e){C((0,R.Z)((0,R.Z)({},k),{},(0,l.Z)({},e.target.name,e.target.value)))};return(0,u.jsx)(L.Z,{open:n,onClose:t,children:(0,u.jsxs)(E.Z,{sx:K,children:[(0,u.jsx)(q.Z,{variant:"h5",component:"h2",children:"Adding a Lead"}),(0,u.jsxs)(E.Z,{sx:J,children:[(0,u.jsxs)(Z.Z,{required:!0,error:p&&""===k.channel,sx:H,children:[(0,u.jsx)(j.Z,{children:"Channel"}),(0,u.jsx)(g.Z,{label:"Channel",name:"channel",onChange:_,value:k.channel,children:o.values.map((function(e,n){return(0,u.jsx)(v.Z,{value:e.id,children:e.value},n)}))})]}),(0,u.jsx)(B.Z,{freeSolo:!0,sx:H,options:s.values,onChange:function(e,n){C((0,R.Z)((0,R.Z)({},k),{},{city:n}))},getOptionLabel:function(e){return e.value||""},name:"city",renderInput:function(e){return(0,u.jsx)(F.Z,(0,R.Z)((0,R.Z)({value:k.city,required:!0,name:"city",error:p&&""===k.city},e),{},{label:"City"}))},variant:"outlined"})]}),(0,u.jsxs)(E.Z,{sx:J,children:[(0,u.jsx)(F.Z,{required:!0,error:p&&""===k.name,sx:H,onChange:_,value:k.name,name:"name",label:"Name",variant:"outlined"}),(0,u.jsx)(F.Z,{error:p&&""===k.phone,required:!0,sx:H,onChange:_,value:k.phone,name:"phone",label:"Main Phone",variant:"outlined"})]}),(0,u.jsxs)(E.Z,{sx:J,children:[(0,u.jsx)(F.Z,{sx:H,onChange:_,value:k.phone2,name:"phone2",label:"Second phone",variant:"outlined"}),(0,u.jsx)(F.Z,{sx:H,onChange:_,value:k.phone3,name:"phone3",label:"Third phone",variant:"outlined"})]}),(0,u.jsxs)(E.Z,{sx:J,children:[(0,u.jsxs)(Z.Z,{required:!0,error:p&&""===k.staff,sx:H,children:[(0,u.jsx)(j.Z,{children:"Manager"}),(0,u.jsx)(g.Z,{label:"Manager",name:"staff",onChange:_,value:k.staff,children:c.values.map((function(e,n){return(0,u.jsx)(v.Z,{value:e.id,children:e.value},n)}))})]}),(0,u.jsx)(A._,{dateAdapter:T.y,children:(0,u.jsx)(Y.Z,{spacing:3,sx:H,children:(0,u.jsx)(M.$,{label:"Date",name:"date",value:k.date,onChange:function(e){C((0,R.Z)((0,R.Z)({},k),{},{date:e}))},inputFormat:"DD/MM/YYYY",renderInput:function(e){return(0,u.jsx)(F.Z,(0,R.Z)({required:!0,error:p&&""===k.date,name:"date",value:k.date,variant:"outlined"},e))}})})})]}),(0,u.jsx)(i.Z,{sx:{width:"45%",marginLeft:"auto",marginRight:"auto"},onClick:function(){f(!0),function(e){return console.log(!e.channel),console.log(!e.city),console.log(!e.name),console.log(!e.phone),console.log(!e.staff),console.log(!e.date),!e.channel||!e.city||!e.name||!e.phone||!e.staff||!e.date}(k)||(V(k),d.addHunter(k),C(m),f(!1))},variant:"contained",children:"Add"})]})})},$=(0,t(32).Pi)((function(e){var n=r.useContext(P._).kanban,t=(0,r.useState)("kanban"),l=(0,a.Z)(t,2),s=l[0],o=l[1],c=(0,r.useState)(!1),d=(0,a.Z)(c,2),f=d[0],m=d[1],Z=e.select.manager,j=e.select.channel,g=e.select.city;return(0,u.jsx)("div",{style:{height:"15vh",display:"flex",alignItems:"center"},children:(0,u.jsxs)("div",{style:{display:"flex",width:"92vw",justifyContent:"space-between"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(i.Z,{sx:{color:"#000"},onClick:function(){var e="kanban"===s?"list":"kanban";o(e),n.setFormat(e)},startIcon:"kanban"===s?(0,u.jsx)(h.Z,{}):(0,u.jsx)(p.Z,{}),children:s}),(0,u.jsx)(_,{select:e.select}),(0,u.jsx)(z,{select:e.select})]}),(0,u.jsxs)("div",{style:{display:"flex",gap:"2rem"},children:[(0,u.jsx)(x,{}),(0,u.jsx)(i.Z,{variant:"contained",onClick:function(){"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"===e.button||m(!0)},children:e.button}),"Add"===e.button?(0,u.jsx)(U,{managers:Z,cities:g,channels:j,open:f,onClose:function(){m(!1)}}):""]})]})})}))},2558:function(e,n,t){t.d(n,{Z:function(){return ve}});var a=t(1413),r=t(9439),i=t(2791),l=t(3830),s=t(4942),o=t(3433),c=t(4165),d=t(5861),u=t(568),x=function(){var e=(0,d.Z)((0,c.Z)().mark((function e(n,t){var a,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.DN.patch("lead/column",{id:n,column:t});case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,d.Z)((0,c.Z)().mark((function e(n){var t,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.DN.put("lead/card",n);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(e,n,t){if(console.log(e),e&&x(e.draggableId,e.destination.droppableId),e.destination){var i=e.source,l=e.destination;if(i.droppableId!==l.droppableId){var c,d=n[i.droppableId],u=n[l.droppableId],h=(0,o.Z)(d.items),p=(0,o.Z)(u.items),f=h.splice(i.index,1),m=(0,r.Z)(f,1)[0];p.splice(l.index,0,m),t((0,a.Z)((0,a.Z)({},n),{},(c={},(0,s.Z)(c,i.droppableId,(0,a.Z)((0,a.Z)({},d),{},{items:h})),(0,s.Z)(c,l.droppableId,(0,a.Z)((0,a.Z)({},u),{},{items:p})),c)))}else{var Z=n[i.droppableId],j=(0,o.Z)(Z.items),g=j.splice(i.index,1),v=(0,r.Z)(g,1)[0];j.splice(l.index,0,v),t((0,a.Z)((0,a.Z)({},n),{},(0,s.Z)({},i.droppableId,(0,a.Z)((0,a.Z)({},Z),{},{items:j}))))}}},f={card:"style_card__gjBmB",setting:"style_setting__GF8dL",staticsetting:"style_staticsetting__Ft9NS",column:"style_column__06sJn",column_slide:"style_column_slide__+dv7q",countblock:"style_countblock__NV7hd",header:"style_header__gat-Z",header_slide:"style_header_slide__JGx2I",column_body:"style_column_body__wpVD8",card_slide:"style_card_slide__qUgmC"},m=t(6152),Z=t(4554),j=t(792),g=t(837),v=t(3208),b=t(8610),y=t(5527),k=t(7865),C=t(5028),_=t(3767),w=t(2094),I=t(3400),S=t(184),D=function(e){var n=e.open,t=e.flag,r=e.close,l=e.toggle,s=e.setFlag,o=e.click,c=e.anchorRef,d=e.setclass;return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(b.Z,{open:n,anchorEl:c.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,sx:{zIndex:10},children:function(e){var i=e.TransitionProps,l=e.placement;return(0,S.jsx)(v.Z,(0,a.Z)((0,a.Z)({},i),{},{style:{transformOrigin:"bottom-start"===l?"left top":"left bottom"},children:(0,S.jsx)(y.Z,{children:(0,S.jsx)(_.Z,{onClickAway:r,children:(0,S.jsxs)(C.Z,{autoFocusItem:n,onKeyDown:o,children:[(0,S.jsx)(k.Z,{onClick:s,children:!0===t?"\u0423\u0431\u0440\u0430\u0442\u044c \u0444\u043b\u0430\u0433":"Add \u0444\u043b\u0430\u0433"}),(0,S.jsx)(k.Z,{onClick:r,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,S.jsx)(k.Z,{onClick:r,children:"\u041d\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439"})]})})})}))}}),(0,S.jsx)(I.Z,{className:f[d],onClick:l,ref:c,children:(0,S.jsx)(w.Z,{})})]})},N=t(5228),P=t(3896),z=t(890),R=t(7391),E=t(7762),F=function(e,n,t,a){for(var r in a){var i,l=a[r].items,s=(0,E.Z)(l);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(o.id===t){o[e]=n,h(o);break}}}catch(c){s.e(c)}finally{s.f()}}},L=function(e){var n=i.useContext(g._).kanban,t="https://wa.me/".concat(e.phone),a=i.useState(e.comm||""),l=(0,r.Z)(a,2),s=l[0],o=l[1];return(0,S.jsxs)(Z.Z,{sx:{height:"40%",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,S.jsx)(z.Z,{variant:"h4",component:"h2",children:e.name}),(0,S.jsx)("div",{children:e.date}),(0,S.jsx)("a",{target:"_blank",style:{color:"#000",width:"fit-content"},href:t,rel:"noreferrer",children:e.phone}),(0,S.jsx)(R.Z,{value:s,sx:{width:"100%"},placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",onBlur:function(t){F("comment",t.target.value,e.id,n.hunterData)},onChange:function(e){return o(e.target.value)},multiline:!0,rows:2,InputProps:{inputProps:{maxLength:80}},helperText:"".concat(s.length,"/",80),error:s.length>80})]})},q=t(5987),B=["children","value","index"];var A=function(e){var n=e.children,t=e.value,r=e.index,i=(0,q.Z)(e,B);return(0,S.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),{},{children:t===r&&(0,S.jsx)(Z.Z,{sx:{p:3},children:(0,S.jsx)("div",{children:n})})}))},T=t(3967),M=t(9584),Y=t(6151),O=t(1133),W=t(5397),G=function(){var e=(0,T.Z)(),n=i.useState(0),t=(0,r.Z)(n,2),a=t[0],l=t[1],s=[{label:"01/03/2023",description:"\u0421\u043a\u0430\u0437\u0430\u043b \u0447\u0442\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043e\u043f\u0442\u043e\u043c \u043d\u0430 \u0440\u044b\u043d\u043a\u0435 10 \u043b\u0435\u0442 \u0438\u0437-\u0437\u0430 \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043a\u0440\u0443\u0442\u044b\u0435 \u0446\u0435\u043d\u044b."},{label:"01/03/2023",description:"\u0421\u043a\u0430\u0437\u0430\u043b \u0447\u0442\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043e\u043f\u0442\u043e\u043c \u043d\u0430 \u0440\u044b\u043d\u043a\u0435 10 \u043b\u0435\u0442 \u0438\u0437-\u0437\u0430 \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043a\u0440\u0443\u0442\u044b\u0435 \u0446\u0435\u043d\u044b."},{label:"01/03/2023",description:"\u0421\u043a\u0430\u0437\u0430\u043b \u0447\u0442\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043e\u043f\u0442\u043e\u043c \u043d\u0430 \u0440\u044b\u043d\u043a\u0435 10 \u043b\u0435\u0442 \u0438\u0437-\u0437\u0430 \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043a\u0440\u0443\u0442\u044b\u0435 \u0446\u0435\u043d\u044b."}],o=s.length;return(0,S.jsxs)(Z.Z,{sx:{maxWidth:400,flexGrow:1},children:[(0,S.jsx)(y.Z,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"background.default"},children:(0,S.jsx)(z.Z,{variant:"body2",component:"span",children:s[a].label})}),(0,S.jsx)(z.Z,{variant:"body2",component:"span",sx:{maxWidth:400,width:"100%"},children:s[a].description}),(0,S.jsx)(M.Z,{variant:"text",steps:o,position:"static",activeStep:a,nextButton:(0,S.jsxs)(Y.Z,{size:"small",onClick:function(){l((function(e){return e+1}))},disabled:a===o-1,children:["\u0412\u043f\u0435\u0440\u0435\u0434","rtl"===e.direction?(0,S.jsx)(O.Z,{}):(0,S.jsx)(W.Z,{})]}),backButton:(0,S.jsxs)(Y.Z,{size:"small",onClick:function(){l((function(e){return e-1}))},disabled:0===a,children:["rtl"===e.direction?(0,S.jsx)(W.Z,{}):(0,S.jsx)(O.Z,{}),"\u041d\u0430\u0437\u0430\u0434"]})})]})},V=t(1473),K=t(5818),H=t(3721),J=t(1131),U=t(8406),$=t(5523),Q=t(9174),X=t(1010),ee=t(32),ne=t(4925),te=t(8096),ae=function(e){var n=e.value,t=e.name,a=e.keyName,r=e.data,i=e.change,l=r.filter((function(e){return e.value===n})),s=0===l.length?"":l[0].id;return(0,S.jsxs)(te.Z,{fullWidth:!0,children:[(0,S.jsx)(ne.Z,{size:"small",children:t}),(0,S.jsx)(U.Z,{size:"small",value:s,label:t,name:t,onChange:function(e){console.log(a);var n=r.find((function(n){return n.id===e.target.value}));i(a,n.value)},children:r.map((function(e,n){return(0,S.jsx)(k.Z,{value:e.id,name:e.value,children:e.value},n)}))})]})},re=t(9919),ie=t(3466),le=t(7196),se=function(e){var n=e.label,t=e.change,a=e.keyName,l=e.value,s=e.end,o=i.useState(l),c=(0,r.Z)(o,2),d=c[0],u=c[1];return(0,S.jsxs)(te.Z,{variant:"outlined",children:[(0,S.jsx)(ne.Z,{size:"small",children:n}),(0,S.jsx)(le.Z,{size:"small",autoComplete:"off",onBlur:function(e){console.log(e.target.value),t(a,e.target.value)},onChange:function(e){return u(e.target.value)},value:d,endAdornment:(0,S.jsx)(ie.Z,{position:"end",children:s}),label:n})]})},oe=(0,ee.Pi)((function(e){var n=e.info,t=i.useContext(g._),l=t.lead,s=t.client,o=t.user,c=t.kanban,d=i.useState(n),u=(0,r.Z)(d,2),x=u[0],h=(u[1],i.useState(c.hunterData)),f=(0,r.Z)(h,2),m=f[0],j=f[1],v=function(e,n){F(e,n,x.id,c.hunterData)};return(0,S.jsxs)(Z.Z,{sx:{width:"50%",border:"1px solid #e6e6e6",overflow:"auto",padding:"1rem",boxSizing:"border-box",height:"100%",borderRadius:"5px"},children:[(0,S.jsxs)(U.Z,{size:"small",onChange:function(e){console.log(e);var t=e.target.value,a={draggableId:String(n.id),destination:{droppableId:String(t),index:0},source:{index:0,droppableId:String(2)}};p(a,m,j)},defaultValue:x.column,children:[(0,S.jsx)(k.Z,{value:1,children:"New Lead"}),(0,S.jsx)(k.Z,{value:2,children:"The presentation is completed"}),(0,S.jsx)(k.Z,{value:3,children:"Ready to buy"})]}),(0,S.jsxs)(V.Z,{defaultExpanded:!0,children:[(0,S.jsx)(K.Z,{expandIcon:(0,S.jsx)(J.Z,{}),children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442"}),(0,S.jsxs)(H.Z,{sx:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(X.Z,{freeSolo:!0,size:"small",value:x.cities,options:s.cities.values.map((function(e){return e.value})),renderInput:function(e){return(0,S.jsx)(R.Z,(0,a.Z)((0,a.Z)({size:"small"},e),{},{label:"City"}))},name:"city",type:"text",autoSelect:!0,onChange:function(e,n){v("cities",n)}}),(0,S.jsx)(se,{keyName:"phone2",value:x.phone2,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d-2",end:(0,S.jsx)(re.Z,{}),change:v}),(0,S.jsx)(se,{keyName:"phone3",value:x.phone3,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d-3",end:(0,S.jsx)(re.Z,{}),change:v})]})]}),(0,S.jsxs)(V.Z,{defaultExpanded:!0,children:[(0,S.jsx)(K.Z,{expandIcon:(0,S.jsx)(J.Z,{}),children:"\u0411\u0438\u0437\u043d\u0435\u0441"}),(0,S.jsxs)(H.Z,{sx:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(ae,{value:x.field,name:l.field.name,keyName:"field",data:l.field.values,change:v}),(0,S.jsx)(ae,{value:x.expert,name:"\u0422\u0438\u043f",keyName:"type",data:l.type,change:v}),(0,S.jsx)(ae,{value:x.need,name:l.needs.name,keyName:"need",data:l.needs.values,change:v})]})]}),(0,S.jsxs)(V.Z,{defaultExpanded:!0,children:[(0,S.jsx)(K.Z,{expandIcon:(0,S.jsx)(J.Z,{}),children:"\u0421\u0432\u044f\u0437\u044c"}),(0,S.jsxs)(H.Z,{sx:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(ae,{value:x.channel,name:l.channel.name,keyName:"channel",data:l.channel.values,change:v}),(0,S.jsx)(ae,{value:x.warmth,name:l.warmth.name,keyName:"warmth",data:l.warmth.values,change:v}),(0,S.jsx)(se,{keyName:"discount",value:x.discount,change:v,label:"Discount",end:"%"}),(0,S.jsx)(se,{keyName:"bonus",value:x.bonus,change:v,label:"Bonus",end:"\u0442\u0433."}),(0,S.jsx)($.Z,{control:(0,S.jsx)(Q.Z,{}),label:"\u041f\u0440\u043e\u0431\u043d\u0438\u043a"})]})]}),(0,S.jsxs)(V.Z,{children:[(0,S.jsx)(K.Z,{expandIcon:(0,S.jsx)(J.Z,{}),children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"}),(0,S.jsxs)(H.Z,{sx:{gap:"1rem",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(ae,{value:x.objection,name:l.objection.name,keyName:"objection",data:l.objection.values,change:v}),(0,S.jsx)(ae,{value:x.manager,name:o.managers.name,keyName:"manager",data:o.managers.values,change:v})]})]})]})})),ce=t(6571),de=t(7792),ue=t(7163),xe=t(7414),he=function(e){var n=e.id,t=i.useContext(g._).lead.logs.filter((function(e){return e.id===n}));return console.log(t),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{style:{display:"flex",marginBottom:"1rem",gap:"1rem"},children:[(0,S.jsxs)(U.Z,{defaultValue:2,size:"small",children:[(0,S.jsx)(k.Z,{value:1,children:"\u041d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"}),(0,S.jsx)(k.Z,{value:2,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),(0,S.jsx)(k.Z,{value:3,children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]}),(0,S.jsx)(ce._,{dateAdapter:de.y,children:(0,S.jsx)("div",{children:(0,S.jsx)(xe.Z,{spacing:3,sx:{width:"100%"},size:"small",children:(0,S.jsx)(ue.$,{label:"Date",inputFormat:"DD/MM/YYYY",onChange:function(e,n){},renderInput:function(e){return(0,S.jsx)(R.Z,(0,a.Z)({size:"small"},e))}})})})})]}),(0,S.jsx)(R.Z,{sx:{width:"100%"},placeholder:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442...",multiline:!0,rows:7,value:"",InputProps:{inputProps:{maxLength:80}},helperText:"".concat("".length,"/",80),error:"".length>80})]})},pe="style_modal__zGtgN";var fe=function(e,n){for(var t in e){var a,r=(0,E.Z)(e[t].items);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.id===n)return i}}catch(l){r.e(l)}finally{r.f()}}return null},me=(0,ee.Pi)((function(e){var n=e.open,t=e.onClose,a=e.id,l=(0,i.useContext)(g._).kanban,s=l.hunterData,o=fe(s,a),c=(0,i.useState)(o.favorite),d=(0,r.Z)(c,2),u=d[0],x=d[1];i.useEffect((function(){x(o.favorite)}),[o.favorite]);var h=(0,i.useState)(!1),p=(0,r.Z)(h,2),f=p[0],v=p[1],b=i.useRef(null),y=function(e){b.current&&b.current.contains(e.target)||v(!1)};var k=i.useState(0),C=(0,r.Z)(k,2),_=C[0],w=C[1];return(0,S.jsx)(j.Z,{open:n,onClose:t,children:(0,S.jsxs)(Z.Z,{className:pe,children:[(0,S.jsxs)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row",height:"100%"},children:[(0,S.jsxs)(Z.Z,{sx:{width:"45%",height:"100%",position:"relative",boxSizing:"border-box"},children:[(0,S.jsx)(m.Z,{sx:{position:"absolute",right:0,color:"orange",top:"1rem",height:"1.5em",width:"1.5em",display:!0===u?"block":"none"}}),(0,S.jsx)(L,{id:o.id,phone:o.phone,name:o.name,comm:o.comment,date:o.date}),(0,S.jsxs)(Z.Z,{sx:{border:"1px solid #e6e6e6",borderRadius:"5px",height:"60%"},children:[(0,S.jsx)(Z.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,S.jsxs)(N.Z,{value:_,onChange:function(e,n){w(n)},"aria-label":"basic tabs example",children:[(0,S.jsx)(P.Z,{label:"\u0417\u0430\u0434\u0430\u0447\u0430"}),(0,S.jsx)(P.Z,{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})]})}),(0,S.jsx)(A,{value:_,index:0,sx:{display:"flex",flexDirection:"column",gap:"1rem"},children:(0,S.jsx)(he,{id:o.id})}),(0,S.jsx)(A,{value:_,index:1,children:(0,S.jsx)(G,{})})]})]}),(0,S.jsx)(oe,{info:o})]}),(0,S.jsx)(D,{setclass:"staticsetting",anchorRef:b,open:f,flag:u,toggle:function(e){e.stopPropagation(),v((function(e){return!e}))},click:function(e){"Tab"===e.key?(e.preventDefault(),v(!1)):"Escape"===e.key&&v(!1)},close:y,setFlag:function(e){x(!u),F("favorite",!u,o.id,l.hunterData),y(e)}})]})})})),Ze=(0,ee.Pi)((function(e){var n=e.item,t=e.index,s=e.format,o=i.useContext(g._).kanban,c=(0,i.useState)(!1),d=(0,r.Z)(c,2),u=d[0],x=d[1],h=(0,i.useState)(n.favorite),p=(0,r.Z)(h,2),Z=p[0],j=p[1],v=(0,i.useState)(!1),b=(0,r.Z)(v,2),y=b[0],k=b[1],C=i.useRef(null);i.useEffect((function(){j(n.favorite)}),[n.favorite]);var _=function(){k(!y)},w=function(e){e.stopPropagation(),x((function(e){return!e}))},I=function(e){C.current&&C.current.contains(e.target)||x(!1)};function N(e){"Tab"===e.key?(e.preventDefault(),x(!1)):"Escape"===e.key&&x(!1)}var P=function(e){j(!Z),n.favorite=!n.favorite,F("favorite",!Z,n.id,o.hunterData),I(e)},z=i.useRef(u);return i.useEffect((function(){!0===z.current&&!1===u&&C.current.focus(),z.current=u}),[u]),(0,S.jsx)(l._l,{draggableId:String(n.id),index:t,children:function(e,t){return(0,S.jsxs)("div",(0,a.Z)((0,a.Z)((0,a.Z)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(0,a.Z)({borderRadius:"5px",position:"relative",background:!0===Z?"#fcdea8":"#fff"},e.draggableProps.style),children:[(0,S.jsx)(me,{id:n.id,open:y,onClose:_}),(0,S.jsxs)("div",{style:{height:"100%"},onClick:_,className:f.card+" "+("kanban"===s?"":f.card_slide),children:[(0,S.jsx)(m.Z,{sx:{position:"absolute",right:0,color:"orange",bottom:"16px",marginRight:"1rem",display:!0===Z?"block":"none"}}),(0,S.jsx)("div",{children:n.name}),(0,S.jsx)("div",{children:n.phone}),(0,S.jsx)("div",{children:n.tasklimit}),(0,S.jsx)("div",{children:"3 days"}),(0,S.jsx)("div",{style:{color:"#808080"},children:n.date})]}),(0,S.jsx)(D,{setclass:"setting",anchorRef:C,open:u,flag:Z,toggle:w,click:N,close:I,setFlag:P})]}))}},n.id)})),je=(0,ee.Pi)((function(e){return(0,S.jsxs)("div",{className:f.column_body,children:[(0,S.jsx)("div",{className:f.header,children:(0,S.jsxs)("div",{style:{fontSize:"1.1rem",display:"flex",gap:"0.2rem"},children:[e.column.name,(0,S.jsx)("div",{className:f.countblock,children:e.column.items.length})]})}),(0,S.jsx)("div",{style:{margin:5},children:(0,S.jsx)(l.bK,{droppableId:e.columnId,children:function(n,t){return(0,S.jsxs)("div",(0,a.Z)((0,a.Z)({},n.droppableProps),{},{ref:n.innerRef,className:f.column,children:[e.column.items.map((function(e,n){return(0,S.jsx)(Ze,{item:e,format:"kanban",index:n},n)})),n.placeholder]}))}},e.columnId)})]},e.columnId)})),ge=(0,ee.Pi)((function(e){return(0,S.jsxs)(V.Z,{sx:{backgroundColor:"#fff"},defaultExpanded:!0,children:[(0,S.jsxs)(K.Z,{expandIcon:(0,S.jsx)(J.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[e.column.name,(0,S.jsx)("div",{className:f.countblock,style:{background:"rgb(239 239 239)",color:"black"},children:e.column.items.length})]}),(0,S.jsx)(H.Z,{sx:{backgroundColor:"#e0e0e0"},children:(0,S.jsx)(l.bK,{droppableId:e.columnId,children:function(n,t){return(0,S.jsxs)("div",(0,a.Z)((0,a.Z)({},n.droppableProps),{},{ref:n.innerRef,className:"kanban"===e.format?f.column:f.column_slide,children:[e.column.items.map((function(e,n){return(0,S.jsx)(Ze,{item:e,format:"\u043b\u0438\u0441\u0442",index:n},n)})),n.placeholder]}))}},e.columnId)})]},e.columnId)})),ve=(0,ee.Pi)((function(e){var n=i.useContext(g._).kanban,t=(0,i.useState)(e.data),s=(0,r.Z)(t,2),o=s[0],c=s[1];i.useEffect((function(){n.sethunterData(o)}),[o]),i.useEffect((function(){c(e.data)}),[e.data]);var d=e.format,u=function(e){return"kanban"===d?(0,S.jsx)(je,(0,a.Z)({},e)):(0,S.jsx)(ge,(0,a.Z)({},e))};return(0,S.jsx)("div",{children:(0,S.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100%",flexDirection:"kanban"===d?"row":"column"},children:(0,S.jsx)(l.Z5,{onDragEnd:function(e){return p(e,o,c)},children:Object.entries(o).map((function(e,n){var t=(0,r.Z)(e,2),a=t[0],i=t[1];return(0,S.jsx)(u,{format:d,columnId:a,column:i},a)}))})})})}))}}]);
//# sourceMappingURL=466.ebc7b6c3.chunk.js.map