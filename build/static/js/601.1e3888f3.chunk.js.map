{"version":3,"file":"static/js/601.1e3888f3.chunk.js","mappings":"+LAkBaA,G,OAAW,yCAAG,2GACFC,EAAAA,GAAAA,IAAiB,iBAAkB,OAA7C,OAA6C,SAAjDC,EAAI,EAAJA,KAAI,kBACJA,GAAI,2CACd,kBAHuB,oCAeXC,EAAU,yCAAG,2GACDC,EAAAA,GAAAA,IAAU,YAAW,OAA/B,OAA+B,SAAnCF,EAAI,EAAJA,KAAI,kBACJA,GAAI,2CACd,kBAHsB,kC,8GC1BjBG,GAAeC,EAAAA,EAAAA,KAAS,WAC5B,MAAuCC,EAAAA,WAAiBC,EAAAA,GAAhDC,EAAM,EAANA,OAAQC,EAAI,EAAJA,KAAMC,EAAM,EAANA,OAAQC,EAAI,EAAJA,KAC9B,EAAwBL,EAAAA,SAAeE,EAAOI,YAAW,eAAlDX,EAAI,KAAEY,EAAO,KACpB,EAA4BP,EAAAA,SAAe,CACzCQ,KAAM,CAAEC,KAAM,GAAIC,OAAQ,IAC1BC,QAAS,CAAEF,KAAM,GAAIC,OAAQ,IAC7BE,QAAS,CAAEH,KAAM,GAAIC,OAAQ,MAC7B,eAJKG,EAAM,KAAEC,EAAS,KAsCxB,OAjCAd,EAAAA,WAAgB,YAEdJ,EAAAA,EAAAA,MAAamB,MAAK,SAACpB,GACjBY,EAAQZ,GACRO,EAAOc,cAAcrB,EAAKsB,OAC1Bf,EAAOgB,SAASvB,EAAKwB,OACrBhB,EAAKiB,QAAQzB,EAAK0B,MAClB,IAAMC,EAAM3B,SACL2B,EAAIL,aACJK,EAAIH,aACJG,EAAID,KACXP,EAAUQ,EACZ,GAEF,GAAG,IAEHtB,EAAAA,WAAgB,WAEd,GACC,CAACL,IAEJK,EAAAA,WAAgB,WACdG,EAAKoB,UAAUV,EAAOW,QACtBrB,EAAKsB,SAASZ,EAAOa,OACrBvB,EAAKwB,UAAUd,EAAOe,QACtBzB,EAAK0B,WAAWhB,EAAOD,SACvBT,EAAK2B,aAAajB,EAAOkB,WACzB1B,EAAK2B,YAAYnB,EAAOF,SAExBP,EAAO6B,UAAUpB,EAAOL,KAE1B,GAAG,CAACK,KAGF,iBACEqB,MAAO,CACLC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZ,WAEF,SAAC,IAAO,CAACC,OAAO,MAAMzB,OAAQA,KAC9B,SAAC,IAAM,CAAClB,KAAMO,EAAOI,WAAYiC,OAAQrC,EAAOqC,WAGtD,IAEA,W","sources":["APIs/ClientAPI.js","pages/Lead.js"],"sourcesContent":["import {$managerHost, $host, $adminHost} from \"./index\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const createClient = async (client) => {\r\n    const {data} = await $managerHost.post('client', client)\r\n    return data\r\n}\r\n\r\nexport const fetchClients = async () => {\r\n    const {data} = await $managerHost.get('client')\r\n    return data\r\n}\r\n\r\nexport const fetchCategories = async () => {\r\n    const {data} = await $managerHost.get('client/salesCategory', )\r\n    return data\r\n}\r\n\r\nexport const fetchCities = async () => {\r\n    const {data} = await $managerHost.get('client/cities', )\r\n    return data\r\n}\r\n\r\n// export const fetchClientInfo = async (clientId) => {\r\n//     const {data} = await $host.get('clientInfo', {params: {clientId}})\r\n//     return data\r\n// }\r\n\r\nexport const fetchClientHistory = async (id) => {\r\n    const {data} = await $host.get('client/getHistory/' + id)\r\n    return data\r\n}\r\n\r\nexport const fetchLeads = async () =>{\r\n    const {data} = await $host.get('lead/all')\r\n    return data\r\n}","import React from \"react\";\r\nimport Filters from \"../modules/FilteringOptions\";\r\nimport Kanban from \"../modules/Kanban\";\r\nimport { Context } from \"../index\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { fetchLeads } from \"../APIs/ClientAPI\";\r\n\r\nconst KanbanHunter = observer(() => {\r\n  const { kanban, lead, client, user } = React.useContext(Context);\r\n  const [data, setData] = React.useState(kanban.hunterData);\r\n  const [select, setSelect] = React.useState({\r\n    city: { name: \"\", values: [] },\r\n    manager: { name: \"\", values: [] },\r\n    channel: { name: \"\", values: [] },\r\n  });\r\n  React.useEffect(() => {\r\n    // if (Object.keys(kanban.hunterData).length === 0) {\r\n    fetchLeads().then((data) => {\r\n      setData(data);\r\n      kanban.sethunterData(data.leads);\r\n      kanban.setMaxId(data.maxId);\r\n      lead.setLogs(data.logs);\r\n      const sel = data;\r\n      delete sel.leads;\r\n      delete sel.maxId;\r\n      delete sel.logs;\r\n      setSelect(sel);\r\n    });\r\n    // }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    // kanban.sethunterData(data.lead);\r\n    // select.push(data)\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    lead.setWarmth(select.warmth);\r\n    lead.setNeeds(select.needs);\r\n    lead.setFields(select.fields);\r\n    lead.setChannel(select.channel);\r\n    lead.setObjection(select.objection);\r\n    user.setManagers(select.manager);\r\n    // if (client.cities.length === 0) {\r\n    client.setCities(select.city);\r\n    // }\r\n  }, [select]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Filters button=\"Add\" select={select} />\r\n      <Kanban data={kanban.hunterData} format={kanban.format} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default KanbanHunter;\r\n"],"names":["fetchCities","$managerHost","data","fetchLeads","$host","KanbanHunter","observer","React","Context","kanban","lead","client","user","hunterData","setData","city","name","values","manager","channel","select","setSelect","then","sethunterData","leads","setMaxId","maxId","setLogs","logs","sel","setWarmth","warmth","setNeeds","needs","setFields","fields","setChannel","setObjection","objection","setManagers","setCities","style","display","flexDirection","alignItems","button","format"],"sourceRoot":""}